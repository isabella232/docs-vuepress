<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Jobs | Rundeck Docs</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/docs-vuepress/assets/css/0.styles.0651efe2.css" as="style"><link rel="preload" href="/docs-vuepress/assets/js/app.a985d805.js" as="script"><link rel="preload" href="/docs-vuepress/assets/js/3.b5c9ac8e.js" as="script"><link rel="preload" href="/docs-vuepress/assets/js/16.9a3aef5f.js" as="script"><link rel="prefetch" href="/docs-vuepress/assets/js/10.8c57f175.js"><link rel="prefetch" href="/docs-vuepress/assets/js/100.720c5c50.js"><link rel="prefetch" href="/docs-vuepress/assets/js/101.45a0c7fc.js"><link rel="prefetch" href="/docs-vuepress/assets/js/102.1d8bd5c8.js"><link rel="prefetch" href="/docs-vuepress/assets/js/103.818f9f29.js"><link rel="prefetch" href="/docs-vuepress/assets/js/104.9640eecc.js"><link rel="prefetch" href="/docs-vuepress/assets/js/105.1cda6b60.js"><link rel="prefetch" href="/docs-vuepress/assets/js/106.50b0f246.js"><link rel="prefetch" href="/docs-vuepress/assets/js/107.ccfa95fb.js"><link rel="prefetch" href="/docs-vuepress/assets/js/108.18b81721.js"><link rel="prefetch" href="/docs-vuepress/assets/js/109.ea094759.js"><link rel="prefetch" href="/docs-vuepress/assets/js/11.dee5ebb1.js"><link rel="prefetch" href="/docs-vuepress/assets/js/110.e700bc0b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/111.8623fc95.js"><link rel="prefetch" href="/docs-vuepress/assets/js/112.acd19042.js"><link rel="prefetch" href="/docs-vuepress/assets/js/113.c68fbd50.js"><link rel="prefetch" href="/docs-vuepress/assets/js/114.d8f52e86.js"><link rel="prefetch" href="/docs-vuepress/assets/js/115.cedf0cb8.js"><link rel="prefetch" href="/docs-vuepress/assets/js/116.7a5b94ac.js"><link rel="prefetch" href="/docs-vuepress/assets/js/117.e8b5f531.js"><link rel="prefetch" href="/docs-vuepress/assets/js/118.ddb8108a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/119.dd5cb472.js"><link rel="prefetch" href="/docs-vuepress/assets/js/12.23746475.js"><link rel="prefetch" href="/docs-vuepress/assets/js/120.8b1ecf29.js"><link rel="prefetch" href="/docs-vuepress/assets/js/121.8c8a805b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/122.cd160a14.js"><link rel="prefetch" href="/docs-vuepress/assets/js/123.3e2e9e24.js"><link rel="prefetch" href="/docs-vuepress/assets/js/124.eb99c0cb.js"><link rel="prefetch" href="/docs-vuepress/assets/js/125.937dace5.js"><link rel="prefetch" href="/docs-vuepress/assets/js/126.134dca42.js"><link rel="prefetch" href="/docs-vuepress/assets/js/127.5c2921a7.js"><link rel="prefetch" href="/docs-vuepress/assets/js/128.6ee7fd75.js"><link rel="prefetch" href="/docs-vuepress/assets/js/129.edc62da5.js"><link rel="prefetch" href="/docs-vuepress/assets/js/13.e0352662.js"><link rel="prefetch" href="/docs-vuepress/assets/js/130.3ff9d275.js"><link rel="prefetch" href="/docs-vuepress/assets/js/131.dcbfde6a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/132.7602d8a0.js"><link rel="prefetch" href="/docs-vuepress/assets/js/133.a1309e55.js"><link rel="prefetch" href="/docs-vuepress/assets/js/134.87aa2c3b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/135.6c6e6c59.js"><link rel="prefetch" href="/docs-vuepress/assets/js/136.0b4d54ed.js"><link rel="prefetch" href="/docs-vuepress/assets/js/137.98c0ae7c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/138.dfe0b071.js"><link rel="prefetch" href="/docs-vuepress/assets/js/139.3314f132.js"><link rel="prefetch" href="/docs-vuepress/assets/js/14.9b6beeca.js"><link rel="prefetch" href="/docs-vuepress/assets/js/140.fa006a41.js"><link rel="prefetch" href="/docs-vuepress/assets/js/141.a3e235d0.js"><link rel="prefetch" href="/docs-vuepress/assets/js/142.a1a2724d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/143.7a12b020.js"><link rel="prefetch" href="/docs-vuepress/assets/js/144.f44c26ef.js"><link rel="prefetch" href="/docs-vuepress/assets/js/145.1e057378.js"><link rel="prefetch" href="/docs-vuepress/assets/js/146.7370faa0.js"><link rel="prefetch" href="/docs-vuepress/assets/js/147.89f92872.js"><link rel="prefetch" href="/docs-vuepress/assets/js/148.5e0b8ba4.js"><link rel="prefetch" href="/docs-vuepress/assets/js/149.2c326c00.js"><link rel="prefetch" href="/docs-vuepress/assets/js/15.046d411b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/150.7e2f3941.js"><link rel="prefetch" href="/docs-vuepress/assets/js/151.c2ce369b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/152.7f9262c5.js"><link rel="prefetch" href="/docs-vuepress/assets/js/153.ace3a365.js"><link rel="prefetch" href="/docs-vuepress/assets/js/154.09c8412b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/155.50024301.js"><link rel="prefetch" href="/docs-vuepress/assets/js/156.289fe7a7.js"><link rel="prefetch" href="/docs-vuepress/assets/js/157.28730443.js"><link rel="prefetch" href="/docs-vuepress/assets/js/158.d701bfef.js"><link rel="prefetch" href="/docs-vuepress/assets/js/159.0a91371d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/160.eb66a553.js"><link rel="prefetch" href="/docs-vuepress/assets/js/161.26e91ef4.js"><link rel="prefetch" href="/docs-vuepress/assets/js/162.0e47c413.js"><link rel="prefetch" href="/docs-vuepress/assets/js/163.f0f29d19.js"><link rel="prefetch" href="/docs-vuepress/assets/js/164.38cc49ae.js"><link rel="prefetch" href="/docs-vuepress/assets/js/165.b3e4ebed.js"><link rel="prefetch" href="/docs-vuepress/assets/js/166.b4d8ce31.js"><link rel="prefetch" href="/docs-vuepress/assets/js/167.47213cd6.js"><link rel="prefetch" href="/docs-vuepress/assets/js/168.abec22dd.js"><link rel="prefetch" href="/docs-vuepress/assets/js/169.3dbe9d6f.js"><link rel="prefetch" href="/docs-vuepress/assets/js/17.664a95aa.js"><link rel="prefetch" href="/docs-vuepress/assets/js/170.5dff1bf7.js"><link rel="prefetch" href="/docs-vuepress/assets/js/171.8acbe31b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/172.8757d159.js"><link rel="prefetch" href="/docs-vuepress/assets/js/173.441281d9.js"><link rel="prefetch" href="/docs-vuepress/assets/js/174.dcb7ee10.js"><link rel="prefetch" href="/docs-vuepress/assets/js/175.63bff5c9.js"><link rel="prefetch" href="/docs-vuepress/assets/js/176.5077aa21.js"><link rel="prefetch" href="/docs-vuepress/assets/js/177.574a081b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/178.4054cadd.js"><link rel="prefetch" href="/docs-vuepress/assets/js/179.0225b9cc.js"><link rel="prefetch" href="/docs-vuepress/assets/js/18.fb35adbd.js"><link rel="prefetch" href="/docs-vuepress/assets/js/180.93a0273d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/181.94609536.js"><link rel="prefetch" href="/docs-vuepress/assets/js/182.59660e9d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/183.0e56e595.js"><link rel="prefetch" href="/docs-vuepress/assets/js/184.1eb6f554.js"><link rel="prefetch" href="/docs-vuepress/assets/js/185.4948eb35.js"><link rel="prefetch" href="/docs-vuepress/assets/js/186.9690e0d3.js"><link rel="prefetch" href="/docs-vuepress/assets/js/187.885e9b47.js"><link rel="prefetch" href="/docs-vuepress/assets/js/188.7fd180e6.js"><link rel="prefetch" href="/docs-vuepress/assets/js/189.66fa3148.js"><link rel="prefetch" href="/docs-vuepress/assets/js/19.2ffd98f8.js"><link rel="prefetch" href="/docs-vuepress/assets/js/190.c617ccb9.js"><link rel="prefetch" href="/docs-vuepress/assets/js/191.350027e9.js"><link rel="prefetch" href="/docs-vuepress/assets/js/192.b69db32f.js"><link rel="prefetch" href="/docs-vuepress/assets/js/193.c854b7da.js"><link rel="prefetch" href="/docs-vuepress/assets/js/194.8f5d7f30.js"><link rel="prefetch" href="/docs-vuepress/assets/js/195.59bd471c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/196.5c3d5676.js"><link rel="prefetch" href="/docs-vuepress/assets/js/197.e02f5ef3.js"><link rel="prefetch" href="/docs-vuepress/assets/js/198.c5f3424d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/199.c60f7f0d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/20.5bf2414f.js"><link rel="prefetch" href="/docs-vuepress/assets/js/200.d3efab31.js"><link rel="prefetch" href="/docs-vuepress/assets/js/201.d6097a70.js"><link rel="prefetch" href="/docs-vuepress/assets/js/202.0de99e28.js"><link rel="prefetch" href="/docs-vuepress/assets/js/203.6ca8d9d9.js"><link rel="prefetch" href="/docs-vuepress/assets/js/204.fd4f9353.js"><link rel="prefetch" href="/docs-vuepress/assets/js/205.2b8d8a23.js"><link rel="prefetch" href="/docs-vuepress/assets/js/206.fea77d34.js"><link rel="prefetch" href="/docs-vuepress/assets/js/207.ee0b9189.js"><link rel="prefetch" href="/docs-vuepress/assets/js/208.ba6c5a96.js"><link rel="prefetch" href="/docs-vuepress/assets/js/209.91eae380.js"><link rel="prefetch" href="/docs-vuepress/assets/js/21.b203d7cf.js"><link rel="prefetch" href="/docs-vuepress/assets/js/210.2da81b3c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/211.9e827795.js"><link rel="prefetch" href="/docs-vuepress/assets/js/212.d76bc91c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/213.92c7af9d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/214.85f4977b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/215.f56b3e80.js"><link rel="prefetch" href="/docs-vuepress/assets/js/216.81b0ccdf.js"><link rel="prefetch" href="/docs-vuepress/assets/js/217.1cfddf1c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/218.894eaaa3.js"><link rel="prefetch" href="/docs-vuepress/assets/js/219.a3db190a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/22.c3ed0db3.js"><link rel="prefetch" href="/docs-vuepress/assets/js/220.74cb3a9b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/221.ebd3cfb6.js"><link rel="prefetch" href="/docs-vuepress/assets/js/222.cf2e564e.js"><link rel="prefetch" href="/docs-vuepress/assets/js/223.6f31881a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/224.2f3ccc09.js"><link rel="prefetch" href="/docs-vuepress/assets/js/225.7be205b5.js"><link rel="prefetch" href="/docs-vuepress/assets/js/226.caa2df29.js"><link rel="prefetch" href="/docs-vuepress/assets/js/227.0372aa61.js"><link rel="prefetch" href="/docs-vuepress/assets/js/228.93553be0.js"><link rel="prefetch" href="/docs-vuepress/assets/js/229.e0f6ab8b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/23.41eee484.js"><link rel="prefetch" href="/docs-vuepress/assets/js/230.20ed8418.js"><link rel="prefetch" href="/docs-vuepress/assets/js/231.95fe785d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/232.ea65cd4a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/233.80e6a6b3.js"><link rel="prefetch" href="/docs-vuepress/assets/js/234.f3e529d3.js"><link rel="prefetch" href="/docs-vuepress/assets/js/235.7eecef3f.js"><link rel="prefetch" href="/docs-vuepress/assets/js/236.9c545505.js"><link rel="prefetch" href="/docs-vuepress/assets/js/237.a8a8b39b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/238.7853d502.js"><link rel="prefetch" href="/docs-vuepress/assets/js/239.b7b28627.js"><link rel="prefetch" href="/docs-vuepress/assets/js/24.2fac9289.js"><link rel="prefetch" href="/docs-vuepress/assets/js/240.10d59b00.js"><link rel="prefetch" href="/docs-vuepress/assets/js/241.eb19c22c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/242.7ac7c03b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/243.f0bd838e.js"><link rel="prefetch" href="/docs-vuepress/assets/js/244.d5fdf8da.js"><link rel="prefetch" href="/docs-vuepress/assets/js/245.6c9d83f7.js"><link rel="prefetch" href="/docs-vuepress/assets/js/246.52f008f9.js"><link rel="prefetch" href="/docs-vuepress/assets/js/247.657640e7.js"><link rel="prefetch" href="/docs-vuepress/assets/js/248.e2e63637.js"><link rel="prefetch" href="/docs-vuepress/assets/js/249.7992cefd.js"><link rel="prefetch" href="/docs-vuepress/assets/js/25.b539bab6.js"><link rel="prefetch" href="/docs-vuepress/assets/js/250.dcc7c35b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/251.0c779c2f.js"><link rel="prefetch" href="/docs-vuepress/assets/js/252.52074ddf.js"><link rel="prefetch" href="/docs-vuepress/assets/js/253.16219d68.js"><link rel="prefetch" href="/docs-vuepress/assets/js/254.3612c2fe.js"><link rel="prefetch" href="/docs-vuepress/assets/js/255.54a4ce7e.js"><link rel="prefetch" href="/docs-vuepress/assets/js/256.87f760f6.js"><link rel="prefetch" href="/docs-vuepress/assets/js/257.85b5dd49.js"><link rel="prefetch" href="/docs-vuepress/assets/js/258.8b7a4dfe.js"><link rel="prefetch" href="/docs-vuepress/assets/js/259.b03392a2.js"><link rel="prefetch" href="/docs-vuepress/assets/js/26.45439bc6.js"><link rel="prefetch" href="/docs-vuepress/assets/js/260.a880f7e5.js"><link rel="prefetch" href="/docs-vuepress/assets/js/261.b26ce62a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/262.b558c7d3.js"><link rel="prefetch" href="/docs-vuepress/assets/js/263.81e1b2aa.js"><link rel="prefetch" href="/docs-vuepress/assets/js/264.24e8b643.js"><link rel="prefetch" href="/docs-vuepress/assets/js/265.416fe785.js"><link rel="prefetch" href="/docs-vuepress/assets/js/266.9cd4fc1e.js"><link rel="prefetch" href="/docs-vuepress/assets/js/267.25cda5da.js"><link rel="prefetch" href="/docs-vuepress/assets/js/268.e930295e.js"><link rel="prefetch" href="/docs-vuepress/assets/js/269.45ce7d9c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/27.ddaf853a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/270.8fcd51aa.js"><link rel="prefetch" href="/docs-vuepress/assets/js/271.232f376e.js"><link rel="prefetch" href="/docs-vuepress/assets/js/272.79771cdd.js"><link rel="prefetch" href="/docs-vuepress/assets/js/273.b4de4ba5.js"><link rel="prefetch" href="/docs-vuepress/assets/js/274.35696c8f.js"><link rel="prefetch" href="/docs-vuepress/assets/js/275.bc5a82c1.js"><link rel="prefetch" href="/docs-vuepress/assets/js/276.6122526d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/277.10591be2.js"><link rel="prefetch" href="/docs-vuepress/assets/js/278.ed12e43c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/279.39f0ecc2.js"><link rel="prefetch" href="/docs-vuepress/assets/js/28.3726bb37.js"><link rel="prefetch" href="/docs-vuepress/assets/js/280.f400863b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/281.089d4757.js"><link rel="prefetch" href="/docs-vuepress/assets/js/282.0bc28dcc.js"><link rel="prefetch" href="/docs-vuepress/assets/js/283.566f57a8.js"><link rel="prefetch" href="/docs-vuepress/assets/js/284.53214203.js"><link rel="prefetch" href="/docs-vuepress/assets/js/285.c9b58e9d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/286.2ed1160a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/287.432dca89.js"><link rel="prefetch" href="/docs-vuepress/assets/js/288.bd26ad7a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/289.216c583c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/29.9f751b56.js"><link rel="prefetch" href="/docs-vuepress/assets/js/290.15e58491.js"><link rel="prefetch" href="/docs-vuepress/assets/js/291.5bdbe5ca.js"><link rel="prefetch" href="/docs-vuepress/assets/js/292.f679a7a9.js"><link rel="prefetch" href="/docs-vuepress/assets/js/293.6d76eb9c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/30.516fa878.js"><link rel="prefetch" href="/docs-vuepress/assets/js/31.d119aa3b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/32.6151ee25.js"><link rel="prefetch" href="/docs-vuepress/assets/js/33.9f80c25c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/34.60a49bea.js"><link rel="prefetch" href="/docs-vuepress/assets/js/35.63cea81a.js"><link rel="prefetch" href="/docs-vuepress/assets/js/36.4ed3bc37.js"><link rel="prefetch" href="/docs-vuepress/assets/js/37.0722c4d3.js"><link rel="prefetch" href="/docs-vuepress/assets/js/38.fb1d7e70.js"><link rel="prefetch" href="/docs-vuepress/assets/js/39.37676094.js"><link rel="prefetch" href="/docs-vuepress/assets/js/4.8d9000c0.js"><link rel="prefetch" href="/docs-vuepress/assets/js/40.71cbda52.js"><link rel="prefetch" href="/docs-vuepress/assets/js/41.71e07508.js"><link rel="prefetch" href="/docs-vuepress/assets/js/42.7a076a48.js"><link rel="prefetch" href="/docs-vuepress/assets/js/43.de045d01.js"><link rel="prefetch" href="/docs-vuepress/assets/js/44.d4683cdd.js"><link rel="prefetch" href="/docs-vuepress/assets/js/45.594fbcb8.js"><link rel="prefetch" href="/docs-vuepress/assets/js/46.b515f50f.js"><link rel="prefetch" href="/docs-vuepress/assets/js/47.c6d8e7d2.js"><link rel="prefetch" href="/docs-vuepress/assets/js/48.708580d5.js"><link rel="prefetch" href="/docs-vuepress/assets/js/49.5db8f508.js"><link rel="prefetch" href="/docs-vuepress/assets/js/5.80e31771.js"><link rel="prefetch" href="/docs-vuepress/assets/js/50.da39405f.js"><link rel="prefetch" href="/docs-vuepress/assets/js/51.97cca045.js"><link rel="prefetch" href="/docs-vuepress/assets/js/52.dd6d2f2f.js"><link rel="prefetch" href="/docs-vuepress/assets/js/53.26fa76af.js"><link rel="prefetch" href="/docs-vuepress/assets/js/54.ba647451.js"><link rel="prefetch" href="/docs-vuepress/assets/js/55.b04e9047.js"><link rel="prefetch" href="/docs-vuepress/assets/js/56.6331165b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/57.7d741e8d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/58.c8bfc387.js"><link rel="prefetch" href="/docs-vuepress/assets/js/59.b81608de.js"><link rel="prefetch" href="/docs-vuepress/assets/js/6.1cf912d2.js"><link rel="prefetch" href="/docs-vuepress/assets/js/60.0f3417a7.js"><link rel="prefetch" href="/docs-vuepress/assets/js/61.daa6a6a4.js"><link rel="prefetch" href="/docs-vuepress/assets/js/62.07318418.js"><link rel="prefetch" href="/docs-vuepress/assets/js/63.d3c27254.js"><link rel="prefetch" href="/docs-vuepress/assets/js/64.39464958.js"><link rel="prefetch" href="/docs-vuepress/assets/js/65.ccb705ad.js"><link rel="prefetch" href="/docs-vuepress/assets/js/66.15e21b72.js"><link rel="prefetch" href="/docs-vuepress/assets/js/67.ab78df7e.js"><link rel="prefetch" href="/docs-vuepress/assets/js/68.185ed3ae.js"><link rel="prefetch" href="/docs-vuepress/assets/js/69.f1316862.js"><link rel="prefetch" href="/docs-vuepress/assets/js/7.5878d871.js"><link rel="prefetch" href="/docs-vuepress/assets/js/70.dbaab2a0.js"><link rel="prefetch" href="/docs-vuepress/assets/js/71.065e10d4.js"><link rel="prefetch" href="/docs-vuepress/assets/js/72.54a98305.js"><link rel="prefetch" href="/docs-vuepress/assets/js/73.8765df33.js"><link rel="prefetch" href="/docs-vuepress/assets/js/74.c89c0de9.js"><link rel="prefetch" href="/docs-vuepress/assets/js/75.b4fee156.js"><link rel="prefetch" href="/docs-vuepress/assets/js/76.0fd462f8.js"><link rel="prefetch" href="/docs-vuepress/assets/js/77.81a3cbfc.js"><link rel="prefetch" href="/docs-vuepress/assets/js/78.3354c788.js"><link rel="prefetch" href="/docs-vuepress/assets/js/79.e2adf14b.js"><link rel="prefetch" href="/docs-vuepress/assets/js/8.ece585dd.js"><link rel="prefetch" href="/docs-vuepress/assets/js/80.fe383144.js"><link rel="prefetch" href="/docs-vuepress/assets/js/81.acd227a5.js"><link rel="prefetch" href="/docs-vuepress/assets/js/82.99ea1922.js"><link rel="prefetch" href="/docs-vuepress/assets/js/83.38f4ff44.js"><link rel="prefetch" href="/docs-vuepress/assets/js/84.85e207e7.js"><link rel="prefetch" href="/docs-vuepress/assets/js/85.24d3a974.js"><link rel="prefetch" href="/docs-vuepress/assets/js/86.ffeec6c2.js"><link rel="prefetch" href="/docs-vuepress/assets/js/87.d136299c.js"><link rel="prefetch" href="/docs-vuepress/assets/js/88.e18b3105.js"><link rel="prefetch" href="/docs-vuepress/assets/js/89.a54f7a26.js"><link rel="prefetch" href="/docs-vuepress/assets/js/9.47c58519.js"><link rel="prefetch" href="/docs-vuepress/assets/js/90.8ed21a9f.js"><link rel="prefetch" href="/docs-vuepress/assets/js/91.52bcd084.js"><link rel="prefetch" href="/docs-vuepress/assets/js/92.0938aa71.js"><link rel="prefetch" href="/docs-vuepress/assets/js/93.450d6d7e.js"><link rel="prefetch" href="/docs-vuepress/assets/js/94.e12d4854.js"><link rel="prefetch" href="/docs-vuepress/assets/js/95.f2e582c0.js"><link rel="prefetch" href="/docs-vuepress/assets/js/96.49c7d3d9.js"><link rel="prefetch" href="/docs-vuepress/assets/js/97.80334f46.js"><link rel="prefetch" href="/docs-vuepress/assets/js/98.4aba028d.js"><link rel="prefetch" href="/docs-vuepress/assets/js/99.afa3e890.js"><link rel="prefetch" href="/docs-vuepress/assets/js/vendors~docsearch.41e08fbe.js">
    <link rel="stylesheet" href="/docs-vuepress/assets/css/0.styles.0651efe2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs-vuepress/" class="home-link router-link-active"><img src="/docs-vuepress/images/rundecklogo-black.png" alt="Rundeck Docs" class="logo"> <span class="site-name can-hide">Rundeck Docs</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">User Guide</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/01-introduction.html" class="nav-link">Introduction</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/02-getting-help.html" class="nav-link">Getting Help</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/03-getting-started.html" class="nav-link">Getting Started</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/04-jobs.html" class="nav-link">Jobs</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/05-nodes.html" class="nav-link">Nodes</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/06-commands.html" class="nav-link">Commands</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/07-executions.html" class="nav-link">Executions</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/08-activity.html" class="nav-link">Activity</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/09-configure.html" class="nav-link">Configure</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/10-user.html" class="nav-link">User</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/11-node-filters.html" class="nav-link">Node Filters</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/12-webhooks.html" class="nav-link">Webhooks</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Tutorials</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/index.html" class="nav-link">Overview</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/project-setup.html" class="nav-link">Project Setup</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/nodes.html" class="nav-link">Nodes</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/jobs.html" class="nav-link router-link-exact-active router-link-active">Jobs</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/command-dispatch.html" class="nav-link">Commands</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/access-control.html" class="nav-link">Access Control</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/option-provider.html" class="nav-link">Option Provider</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/custom-script-plugin-hello-world.html" class="nav-link">Custom Script Plugin - Hello World</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/custom-script-plugin-db-cred-rotation.html" class="nav-link">Custom Script Plugin - DB Credential Rotation</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/log-filters.html" class="nav-link">Log Filters</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/java-plugin.html" class="nav-link">Java Plugin</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Administration</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/" class="nav-link">Overview</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/install/" class="nav-link">Installation</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/configuration/" class="nav-link">Configuration</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/plugins/" class="nav-link">Plugins</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/security/default-users.html" class="nav-link">Security</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/maintenance/index.html" class="nav-link">Maintenance</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/upgrading/index.html" class="nav-link">Upgrading</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/cluster/index.html" class="nav-link">Cluster</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/projects/index.html" class="nav-link">Projects</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Enterprise</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/enterprise/" class="nav-link">Overview</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/enterprise/quickstart.html" class="nav-link">Quickstart</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Development</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/api/rundeck-api.html" class="nav-link">API</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/developer/index.html" class="nav-link">Plugin Development</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/command-line-tools/" class="nav-link">Command Line Tools</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/history/" class="nav-link">History</a></li></ul></div></div> <a href="https://github.com/rundeck/docs-vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">User Guide</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/01-introduction.html" class="nav-link">Introduction</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/02-getting-help.html" class="nav-link">Getting Help</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/03-getting-started.html" class="nav-link">Getting Started</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/04-jobs.html" class="nav-link">Jobs</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/05-nodes.html" class="nav-link">Nodes</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/06-commands.html" class="nav-link">Commands</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/07-executions.html" class="nav-link">Executions</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/08-activity.html" class="nav-link">Activity</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/09-configure.html" class="nav-link">Configure</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/10-user.html" class="nav-link">User</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/11-node-filters.html" class="nav-link">Node Filters</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/12-webhooks.html" class="nav-link">Webhooks</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Tutorials</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/index.html" class="nav-link">Overview</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/project-setup.html" class="nav-link">Project Setup</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/nodes.html" class="nav-link">Nodes</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/jobs.html" class="nav-link router-link-exact-active router-link-active">Jobs</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/command-dispatch.html" class="nav-link">Commands</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/access-control.html" class="nav-link">Access Control</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/option-provider.html" class="nav-link">Option Provider</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/custom-script-plugin-hello-world.html" class="nav-link">Custom Script Plugin - Hello World</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/custom-script-plugin-db-cred-rotation.html" class="nav-link">Custom Script Plugin - DB Credential Rotation</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/log-filters.html" class="nav-link">Log Filters</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/tutorials/java-plugin.html" class="nav-link">Java Plugin</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Administration</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/" class="nav-link">Overview</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/install/" class="nav-link">Installation</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/configuration/" class="nav-link">Configuration</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/plugins/" class="nav-link">Plugins</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/security/default-users.html" class="nav-link">Security</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/maintenance/index.html" class="nav-link">Maintenance</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/upgrading/index.html" class="nav-link">Upgrading</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/cluster/index.html" class="nav-link">Cluster</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/administration/projects/index.html" class="nav-link">Projects</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Enterprise</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/enterprise/" class="nav-link">Overview</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/enterprise/quickstart.html" class="nav-link">Quickstart</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Development</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs-vuepress/api/rundeck-api.html" class="nav-link">API</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/developer/index.html" class="nav-link">Plugin Development</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/manual/command-line-tools/" class="nav-link">Command Line Tools</a></li><li class="dropdown-item"><!----> <a href="/docs-vuepress/history/" class="nav-link">History</a></li></ul></div></div> <a href="https://github.com/rundeck/docs-vuepress" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/docs-vuepress/tutorials/project-setup.html" class="sidebar-link">Planning for the project</a></li><li><a href="/docs-vuepress/tutorials/nodes.html" class="sidebar-link">Listing and filtering nodes</a></li><li><a href="/docs-vuepress/tutorials/jobs.html" class="active sidebar-link">Jobs</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/jobs.html#job-structure" class="sidebar-link">Job structure</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/jobs.html#job-grouping" class="sidebar-link">Job grouping</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/jobs.html#scripts" class="sidebar-link">Scripts</a></li><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/jobs.html#job-options" class="sidebar-link">Job options</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/jobs.html#allowed-option-values" class="sidebar-link">Allowed option values</a></li><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/jobs.html#script-access-to-option-data" class="sidebar-link">Script access to option data</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/jobs.html#job-definition" class="sidebar-link">Job definition</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/jobs.html#restart-job-composition" class="sidebar-link">Restart Job composition</a></li></ul></li><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/jobs.html#running-the-job" class="sidebar-link">Running the job</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/jobs.html#run-using-the-gui" class="sidebar-link">Run using the GUI</a></li><li class="sidebar-sub-header"><a href="/docs-vuepress/tutorials/jobs.html#job-run-with-the-cli" class="sidebar-link">Job run with the CLI</a></li></ul></li></ul></li><li><a href="/docs-vuepress/tutorials/command-dispatch.html" class="sidebar-link">Commands</a></li><li><a href="/docs-vuepress/tutorials/access-control.html" class="sidebar-link">Access control</a></li><li><a href="/docs-vuepress/tutorials/option-provider.html" class="sidebar-link">Remote option provider</a></li><li><a href="/docs-vuepress/tutorials/custom-script-plugin-hello-world.html" class="sidebar-link">Developing a custom Rundeck script plugin</a></li><li><a href="/docs-vuepress/tutorials/custom-script-plugin-db-cred-rotation.html" class="sidebar-link">Use case: database credential rotation</a></li><li><a href="/docs-vuepress/tutorials/log-filters.html" class="sidebar-link">Using Log Filters</a></li><li><a href="/docs-vuepress/tutorials/java-plugin.html" class="sidebar-link">Developing a custom Rundeck Java plugin</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="jobs"><a href="#jobs" aria-hidden="true" class="header-anchor">#</a> Jobs</h1> <p>Jobs are a convenient method to establish a library of routine
procedures. By their nature, a Job encapsulates a process as a
logically named interface. Jobs can begin as a single step workflow
that calls an inline shell script but evolve into a multi-step
workflow, that calls specialized steps.
A job can also call other jobs as steps in its
workflow. Using this approach one can view each Job as a reusable
building block upon which more complex processes can be built.</p> <p>The administrator decides Jobs can be used to encapsulate
the restart procedures. Both developers and
administrators can collaborate on the job definitions, their evolution and
maintenance.</p> <h2 id="job-structure"><a href="#job-structure" aria-hidden="true" class="header-anchor">#</a> Job structure</h2> <p>The overall goal is to provide a single restart procedure, for the sake of reusability, it
might be preferred to break each step of the process into separate jobs.</p> <p>Using this approach the administrator imagines the following jobs:</p> <ul><li>start: call the start procedure to start the web service</li> <li>stop: call the stop procedure to stop the web service</li> <li>status: call the status procedure to stop the web service</li> <li>Restart: call the stop, start, and status jobs</li></ul> <p>Since the restart procedure is the primary focus, it is capitalized
for distinction.</p> <p>The extra complexity from defining a job for every individual step can
pay off later, if those steps can be recombined with future jobs to
serve later management needs. How far a process is decomposed into
individual jobs is a judgement balancing maintenance requirements
and the desire for job reuse.</p> <h3 id="job-grouping"><a href="#job-grouping" aria-hidden="true" class="header-anchor">#</a> Job grouping</h3> <p>It is helpful to use job groups and have a convention for naming them.
A good convention assists others with a navigation scheme that
helps them remember and find the desired procedure. Job groups
also help simplify access control policy.</p> <p>The administrator chooses to create a top level group named
&quot;web&quot; where the web restart related jobs will be organized.</p> <pre><code>web/
|-- Restart
|-- start
|-- status
`-- stop
</code></pre> <p>When opening the &quot;anvils&quot; project users will see the jobs
grouped below web as shown in the screenshot below.</p> <figure><img src="/docs-vuepress/assets/img/fig0604.d4828ec8.png" alt="Anvils job group"><figcaption>Anvils job group</figcaption></figure> <h2 id="scripts"><a href="#scripts" aria-hidden="true" class="header-anchor">#</a> Scripts</h2> <p>Sets of scripts are already in use to manage the startup and shutdown
procedures. Rather than force the issue as to
which one is correct or superior, the administrator focuses on
creating a skeleton to more easily present how scripts can be
encapsulated by the job workflow. After demonstrating this simple
framework, the administrator can discuss how to incorporate the best
of script implementations from the ops and dev teams into the Job definitions.</p> <p>For the skeleton, the administrator creates placeholder scripts
that merely echo their intent but define the essential arguments they will need.
The scripts - start, status and stop - represent the logical steps of
the restart process.</p> <p>File listing: start</p> <div class="language-bash .numberLines extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment">#/ usage: start ?dir?</span>
<span class="token builtin class-name">set</span> -eu
<span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$#</span> <span class="token operator">!=</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span>
  <span class="token function">grep</span> <span class="token string">'^#/ usage:'</span> <span class="token operator">&lt;</span><span class="token string">&quot;<span class="token variable">$0</span>&quot;</span> <span class="token operator">|</span> <span class="token function">cut</span> -c4- <span class="token operator">&gt;</span><span class="token file-descriptor important">&amp;2</span> <span class="token punctuation">;</span> <span class="token builtin class-name">exit</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token assign-left variable">DIR</span><span class="token operator">=</span><span class="token variable">$1</span>
<span class="token function">mkdir</span> -p <span class="token string">&quot;<span class="token variable">$DIR</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$$</span> <span class="token operator">&gt;</span> <span class="token string">&quot;<span class="token variable">$DIR</span>/pid&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;- Web started (pid=<span class="token variable">$$</span>)&quot;</span>
</code></pre></div><p>File listing: status</p> <div class="language-bash .numberLines extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment">#/ usage: status ?dir?</span>
<span class="token builtin class-name">set</span> -eu
<span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$#</span> <span class="token operator">!=</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span>
  <span class="token function">grep</span> <span class="token string">'^#/ usage:'</span> <span class="token operator">&lt;</span><span class="token string">&quot;<span class="token variable">$0</span>&quot;</span> <span class="token operator">|</span> <span class="token function">cut</span> -c4- <span class="token operator">&gt;</span><span class="token file-descriptor important">&amp;2</span> <span class="token punctuation">;</span> <span class="token builtin class-name">exit</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token assign-left variable">DIR</span><span class="token operator">=</span><span class="token variable">$1</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token operator">!</span> -f <span class="token string">&quot;<span class="token variable">$DIR</span>/pid&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> <span class="token builtin class-name">echo</span> DOWN<span class="token punctuation">;</span> <span class="token builtin class-name">exit</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token assign-left variable">PID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> <span class="token string">&quot;<span class="token variable">$DIR</span>/pid&quot;</span><span class="token variable">)</span></span>
<span class="token punctuation">[</span><span class="token punctuation">[</span> -z <span class="token string">&quot;<span class="token variable">$PID</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;DOWN&quot;</span><span class="token punctuation">;</span> <span class="token builtin class-name">exit</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">||</span> <span class="token punctuation">{</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;- RUNNING (pid=<span class="token variable">$PID</span>)&quot;</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre></div><p>File listing: stop</p> <div class="language-bash .numberLines extra-class"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment">#/ usage: stop ?dir? ?method?</span>
<span class="token builtin class-name">set</span> -eu
<span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$#</span> <span class="token operator">!=</span> <span class="token number">2</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">{</span>
  <span class="token function">grep</span> <span class="token string">'^#/ usage:'</span> <span class="token operator">&lt;</span><span class="token string">&quot;<span class="token variable">$0</span>&quot;</span> <span class="token operator">|</span> <span class="token function">cut</span> -c4- <span class="token operator">&gt;</span><span class="token file-descriptor important">&amp;2</span> <span class="token punctuation">;</span> <span class="token builtin class-name">exit</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token assign-left variable">DIR</span><span class="token operator">=</span><span class="token variable">$1</span>
<span class="token assign-left variable">METHOD</span><span class="token operator">=</span><span class="token variable">$2</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> -f <span class="token string">&quot;<span class="token variable">$DIR</span>/pid&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token assign-left variable">pid</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> <span class="token string">&quot;<span class="token variable">$DIR</span>/pid&quot;</span><span class="token variable">)</span></span>
  <span class="token function">rm</span> -f <span class="token string">&quot;<span class="token variable">$DIR</span>/pid&quot;</span><span class="token punctuation">;</span> <span class="token comment">#approximates a kill process</span>
  <span class="token assign-left variable">exit_code</span><span class="token operator">=</span><span class="token variable">$?</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;- Web stopped (pid=<span class="token variable">${pid}</span>) using method: <span class="token variable">$METHOD</span>&quot;</span>
<span class="token keyword">fi</span>
<span class="token builtin class-name">exit</span> <span class="token variable">${exit_code<span class="token operator">:-</span>0}</span>
</code></pre></div><p>Because either the normal or force can be specified for the
&quot;method&quot; option, the Jobs will need to pass the user's choice as an
argument to the script.</p> <p>There is no script for the restart process itself since that will be
defined as a Job workflow.</p> <h2 id="job-options"><a href="#job-options" aria-hidden="true" class="header-anchor">#</a> Job options</h2> <p>To support specifying parameters to the scripts,
the the three jobs will declare an option named &quot;dir&quot;
to specify the web service install directory. The stop
script will need an additional option, &quot;method&quot; to specify <code>normal</code> or <code>force</code> choices.</p> <p>A benefit of job options is the ability to display a
menu of choices to the user running the job. Once chosen, the value
selected by the menu is then passed to the script.
Options can also have default values or lists of choices to help
the user choose between routine inputs.</p> <h3 id="allowed-option-values"><a href="#allowed-option-values" aria-hidden="true" class="header-anchor">#</a> Allowed option values</h3> <p>An option can be defined to only allow values from a specified
list. This places safe guards on how a Job can be run by limiting
choices to those the scripts can safely handle.</p> <p>The administrator takes advantage of this by limiting the &quot;method&quot; option
values to just &quot;normal&quot; or &quot;force&quot; choices.</p> <p>The screenshot below contains the Option edit form for the &quot;method&quot; option.
The form includes elements to define description and default
value, as well as, Allowed Values and Restrictions.</p> <figure><img src="/docs-vuepress/assets/img/fig0605.4a8c3817.png" alt="Option editor for method"><figcaption>Option editor for method</figcaption></figure> <p>Allowed values can be specified as a comma separated list as seen above but
can also be requested from an external source using a &quot;remote URL&quot;.</p> <p>Option choices can be controlled using the &quot;Enforced from values&quot;
restriction. When set &quot;true&quot;, the Rundeck UI will only present a
popup menu. If set &quot;false&quot;, a text field will also be presented. Use
the &quot;Match Regular Expression&quot; form to validate the input option.</p> <p>Here's a screenshot of how Rundeck will display the menu choices:</p> <figure><img src="/docs-vuepress/assets/img/fig0606.fa1669a5.png" alt="Option menu for method"><figcaption>Option menu for method</figcaption></figure> <h3 id="script-access-to-option-data"><a href="#script-access-to-option-data" aria-hidden="true" class="header-anchor">#</a> Script access to option data</h3> <p>Option values can be passed to scripts as an argument or referenced
inside the script using a named token. For example, the values for the
&quot;method&quot; an &quot;dir&quot; options can be accessed in one of several ways:</p> <p>Value referenced as an environment variable. Each option name is upcased
and prefixed with &quot;RD<em>OPTION</em>&quot;:</p> <ul><li>Bash: <code>$RD_OPTION_METHOD</code>, <code>$RD_OPTION_DIR</code></li></ul> <p>Value passed in the argument vector to the executed script or command
via the <code>scriptargs</code> tag.</p> <ul><li>Commandline Arguments: <code>${option.method}</code>, <code>${option.dir}</code></li></ul> <p>Value represented as a named token inside the script and replaced
before execution:</p> <ul><li>Script Content: <code>@option.method@</code>, <code>@option.dir@</code></li></ul> <h2 id="job-definition"><a href="#job-definition" aria-hidden="true" class="header-anchor">#</a> Job definition</h2> <p>With an understanding of the scripts and the option needed to
control the restart operation, the final step is to compose the Job
definitions.</p> <p>While each job can be defined graphically in Rundeck, each can
succinctly be defined using an XML file conforming to the
<a href="/docs-vuepress/manpages/man5/job-v20.html">job-xml</a>
document format. This
document contains a set of tags corresponding to the choices seen in
the Rundeck GUI form.</p> <p>Below are the XML definitions for the jobs. One or more jobs can be
defined inside a single XML file but your convention will dictate how to
organize the definitions. The files can be named any way desired and
do not have to correspond to the Job name or its group.</p> <p>File listing: stop.xml</p> <div class="language-xml .numberLines extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>joblist</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>job</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>stop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>the web stop procedure<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>loglevel</span><span class="token punctuation">&gt;</span></span>INFO<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>loglevel</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>group</span><span class="token punctuation">&gt;</span></span>web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>group</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>options</span><span class="token punctuation">&gt;</span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>method<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enforcedvalues</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
                   <span class="token attr-name">required</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
               <span class="token attr-name">values</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>normal,force<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>dir<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enforcedvalues</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">required</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
             <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>$HOME/anvils<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>options</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sequence</span> <span class="token attr-name">threadcount</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">keepgoing</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">strategy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>node-first<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>command</span><span class="token punctuation">&gt;</span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token cdata">&lt;![CDATA[#!/bin/bash
#/ usage: stop ?dir? ?method?
set -eu
[[ $# != 2 ]] &amp;&amp; {
  grep '^#/ usage:' &lt;&quot;$0&quot; | cut -c4- &gt;&amp;2 ; exit 2;
}
DIR=$1
METHOD=$2
if [[ -f &quot;$DIR/pid&quot; ]]
then
        pid=$(cat &quot;$DIR/pid&quot;)
        rm -f &quot;$DIR/pid&quot;; #approximates a kill process
        exit_code=$?
        echo &quot;- Web stopped (pid=${pid}) using method: $METHOD&quot;
fi
exit ${exit_code:-0}]]&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scriptargs</span><span class="token punctuation">&gt;</span></span>${option.method}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scriptargs</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>command</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sequence</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nodefilters</span> <span class="token attr-name">excludeprecedence</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tags</span><span class="token punctuation">&gt;</span></span>www<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tags</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nodefilters</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dispatch</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>threadcount</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>threadcount</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keepgoing</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keepgoing</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dispatch</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>job</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>joblist</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Defines Job, /web/stop, and executes the shell script to
Nodes tagged &quot;web&quot;. Using the <code>scriptargs</code> tag, the shell
script is passed a single argument, <code>${option.method}</code>,
containing the value chosen in the Job run form.</p> <p>File listing: start.xml</p> <div class="language-xml .numberLines extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>joblist</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>job</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>start<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>the web start procedure<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>loglevel</span><span class="token punctuation">&gt;</span></span>INFO<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>loglevel</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>group</span><span class="token punctuation">&gt;</span></span>web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>group</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>options</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>dir<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enforcedvalues</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">required</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
                 <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>$HOME/anvils<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>options</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sequence</span> <span class="token attr-name">threadcount</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">keepgoing</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">strategy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>node-first<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>command</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token cdata">&lt;![CDATA[#!/bin/bash
#/ usage: start ?dir?
set -eu
[[ $# != 1 ]] &amp;&amp; {
  grep '^#/ usage:' &lt;&quot;$0&quot; | cut -c4- &gt;&amp;2 ; exit 2;
}
DIR=$1
mkdir -p &quot;$DIR&quot;
echo $$ &gt; &quot;$DIR/pid&quot;
echo &quot;- Web started (pid=$$)&quot;]]&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>command</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sequence</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nodefilters</span> <span class="token attr-name">excludeprecedence</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tags</span><span class="token punctuation">&gt;</span></span>www<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tags</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nodefilters</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dispatch</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>threadcount</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>threadcount</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keepgoing</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keepgoing</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dispatch</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>job</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>joblist</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Defines Job, /web/start, that also executes a shell script to
Nodes tagged &quot;web&quot;.</p> <p>File listing: status.xml</p> <div class="language-xml .numberLines extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>joblist</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>job</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>status<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>the web status procedure<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>loglevel</span><span class="token punctuation">&gt;</span></span>INFO<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>loglevel</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>group</span><span class="token punctuation">&gt;</span></span>web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>group</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>options</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>dir<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enforcedvalues</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">required</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
                 <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>$HOME/anvils<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>options</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sequence</span> <span class="token attr-name">threadcount</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">keepgoing</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">strategy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>node-first<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>command</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token cdata">&lt;![CDATA[#!/bin/bash
#/ usage: status ?dir?
set -eu
[[ $# != 1 ]] &amp;&amp; {
  grep '^#/ usage:' &lt;&quot;$0&quot; | cut -c4- &gt;&amp;2 ; exit 2;
}
DIR=$1
[[ ! -f &quot;$DIR/pid&quot; ]] &amp;&amp; { echo DOWN; exit 1; }
PID=$(cat &quot;$DIR/pid&quot;)
[[ -z &quot;$PID&quot; ]] &amp;&amp; { echo &quot;DOWN&quot;; exit 1; } || { echo &quot;- RUNNING (pid=$PID)&quot;; }
]]&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>command</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sequence</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nodefilters</span> <span class="token attr-name">excludeprecedence</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tags</span><span class="token punctuation">&gt;</span></span>www<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tags</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nodefilters</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dispatch</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>threadcount</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>threadcount</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keepgoing</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keepgoing</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dispatch</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>job</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>joblist</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Defines Job, /web/status, that also executes a shell script to
Nodes tagged &quot;web&quot;.</p> <blockquote><p>Note, these examples demonstrate Jobs with inline scripts. This is for the purpose of providing a simple and transparent example. You may rightly consider other approaches such as external scriptfiles or custom steps to further encapsulate the code from the job definition.</p></blockquote> <h3 id="restart-job-composition"><a href="#restart-job-composition" aria-hidden="true" class="header-anchor">#</a> Restart Job composition</h3> <p>The final job definition declares the &quot;Restart&quot; job which merely
wraps calls to the stop, start, status jobs already defined.
This is done by declaring a sequence of Job calls,
using the <code>jobref</code> xml tag.
Restart also must pass the &quot;dir&quot; and &quot;method&quot; options so it
declares those too and uses the <code>arg</code> xml tag to pass them.</p> <p>File listing: restart.xml</p> <div class="language-xml .numberLines extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>joblist</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>job</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>Restart<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>restart the web server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>loglevel</span><span class="token punctuation">&gt;</span></span>INFO<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>loglevel</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>group</span><span class="token punctuation">&gt;</span></span>web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>group</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>options</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>method<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enforcedvalues</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">required</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
                 <span class="token attr-name">values</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>normal,force<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>dir<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enforcedvalues</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">required</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
                 <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>$HOME/anvils<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>options</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context</span><span class="token punctuation">&gt;</span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sequence</span> <span class="token attr-name">threadcount</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">keepgoing</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token attr-name">strategy</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>node-first<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>command</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jobref</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stop<span class="token punctuation">&quot;</span></span> <span class="token attr-name">group</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>web<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arg</span> <span class="token attr-name">line</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>-dir ${option.dir} -method ${option.method}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jobref</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>command</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>command</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jobref</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>start<span class="token punctuation">&quot;</span></span> <span class="token attr-name">group</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>web<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arg</span> <span class="token attr-name">line</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>-dir ${option.dir}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jobref</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>command</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>command</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jobref</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>status<span class="token punctuation">&quot;</span></span> <span class="token attr-name">group</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>web<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>arg</span> <span class="token attr-name">line</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>-dir ${option.dir}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jobref</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>command</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sequence</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>job</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>joblist</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Note that we don't define a <code>&lt;nodefilters&gt;</code> or <code>&lt;dispatch&gt;</code> section for Restart, because we
only want this sequence to execute <strong>once</strong>, on the server node. The Job
references will each be called once, and the &quot;start&quot;, &quot;stop&quot; and &quot;status&quot; Jobs will
each be dispatched to the nodes they define.</p> <p>Saving the XML definitions files located on the Rundeck server,
one can load them using the <a href="/docs-vuepress/manpages/man1/">rd-jobs</a> command.</p> <p>Run the <code>rd-jobs load</code> command for each job definition file:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>rd-jobs load -p anvils -f start.xml
rd-jobs load -p anvils -f stop.xml
rd-jobs load -p anvils -f status.xml
rd-jobs load -p anvils -f restart.xml
</code></pre></div><p>The <code>rd-jobs list</code> command queries Rundeck and prints out the list of
defined jobs:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>rd-jobs list -p anvils
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>Found 3 jobs:
- Restart - 'the web restart procedure'
- start - 'the web start procedure'
- status - 'the web status procedure'
- stop - 'the web stop procedure'
</code></pre></div><p>Of course, the jobs can be viewed inside the Rundeck graphical console by going to
the Jobs page. Clicking the &quot;Restart&quot; job name and clicking the &quot;Definition&quot; tab reveals job detail.</p> <figure><img src="/docs-vuepress/assets/img/fig0607.db6169d6.png" alt="Anvils Restart job"><figcaption>Anvils Restart job</figcaption></figure> <p>You will see the composition of the &quot;Restart&quot; job as a workflow
calling the jobs: stop, start, status. The &quot;Restart&quot; job passes the
the <code>-dir</code> option to all the jobs and the
<code>-method</code> option value to the stop Job.</p> <h2 id="running-the-job"><a href="#running-the-job" aria-hidden="true" class="header-anchor">#</a> Running the job</h2> <h3 id="run-using-the-gui"><a href="#run-using-the-gui" aria-hidden="true" class="header-anchor">#</a> Run using the GUI</h3> <p>The Jobs can be run from the Rundeck graphical console by going to the
&quot;Jobs&quot; page. From there, navigate to the &quot;web&quot; job group to
display the three stored Jobs.</p> <p>Clicking the &quot;Run&quot; button for the Restart job, will display the
options selection page. The menu for the &quot;method&quot; option displays the
two choices: &quot;anviles:stop&quot; and &quot;anvils:stop --force&quot;. No other choices can be made, nor a textfield for free form entry, because the &quot;method&quot; option was defined with the restriction &quot;enforced from allowed values&quot;.</p> <figure><img src="/docs-vuepress/assets/img/fig0608.a6f54339.png" alt="Restart run page"><figcaption>Restart run page</figcaption></figure> <h3 id="job-run-with-the-cli"><a href="#job-run-with-the-cli" aria-hidden="true" class="header-anchor">#</a> Job run with the CLI</h3> <p>The jobs can also be started from the command line using the
<a href="/docs-vuepress/manpages/man1/">run</a>
shell tool. The job group and name are specified
using the &quot;-j&quot; parameter. Any options the Job supports are supplied
after the &quot;--&quot; (double dash) parameter. (The &quot;-p&quot; parameter specifies the project,
but it can be left out if there is only one project available.)</p> <p>Run Restart specifying the method, &quot;normal&quot;:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>run -j <span class="token string">&quot;web/Restart&quot;</span> -p anvils -- -method normal
</code></pre></div><p>Run Restart specifying the method, &quot;force&quot;:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>run -j <span class="token string">&quot;web/Restart&quot;</span> -p anvils -- -method force
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/rundeck/docs-vuepress/edit/master/docs/tutorials/jobs.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">8/25/2019, 9:43:44 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs-vuepress/tutorials/nodes.html" class="prev">
          Listing and filtering nodes
        </a></span> <span class="next"><a href="/docs-vuepress/tutorials/command-dispatch.html">
          Commands
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs-vuepress/assets/js/app.a985d805.js" defer></script><script src="/docs-vuepress/assets/js/3.b5c9ac8e.js" defer></script><script src="/docs-vuepress/assets/js/16.9a3aef5f.js" defer></script>
  </body>
</html>
