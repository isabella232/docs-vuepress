(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{440:function(e,t,a){"use strict";a.r(t);var r=a(0),s=Object(r.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"remote-job-execution"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#remote-job-execution","aria-hidden":"true"}},[e._v("#")]),e._v(" Remote Job Execution")]),e._v(" "),a("h3",{attrs:{id:"cluster-remote-execution"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cluster-remote-execution","aria-hidden":"true"}},[e._v("#")]),e._v(" Cluster Remote Execution")]),e._v(" "),a("p",[e._v("This feature allows Rundeck Enterprise cluster members to forward job executions to\nother cluster members based on a policy configuration. By default, each member\nof the cluster executes jobs locally and does not forward them. You can define\nmultiple profiles and assign different projects to different profiles. If a job\nis executed in a project which is not assigned to a specific profile, the\ndefault policy is used.")]),e._v(" "),a("p",[e._v("Configure the following remote execution policy parameters in "),a("code",[e._v("rundeck-config.properties")]),e._v(".")]),e._v(" "),a("h4",{attrs:{id:"policy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#policy","aria-hidden":"true"}},[e._v("#")]),e._v(" Policy")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("rundeck.clusterMode.remoteExecution.policy = <Policy>\n")])])]),a("p",[e._v("Choose from the following "),a("code",[e._v("<Policy>")]),e._v(" settings:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("None")]),e._v(" - Default. Executes locally only")]),e._v(" "),a("li",[a("code",[e._v("Random")]),e._v(" - Executes randomly among allowed members")]),e._v(" "),a("li",[a("code",[e._v("RoundRobin")]),e._v(" - Executes round-robin style among allowed members")]),e._v(" "),a("li",[a("code",[e._v("Preset")]),e._v(" - Executes on one other preset member")]),e._v(" "),a("li",[a("code",[e._v("Load")]),e._v(" - Executes on a member based on load (Requires Enterprise Cluster 2.3.0 or a later release. See Enable Load Balanced Policy)")])]),e._v(" "),a("h4",{attrs:{id:"list-of-allowed-members"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#list-of-allowed-members","aria-hidden":"true"}},[e._v("#")]),e._v(" List of Allowed Members")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("rundeck.clusterMode.remoteExecution.config.allowed = <List of Allowed Members>\n")])])]),a("p",[e._v("The "),a("code",[e._v("<List of Allowed Members>")]),e._v(" determines additional cluster members that the policy can execute on. Enter values separated by a comma:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("Self")]),e._v(" - Execute locally")]),e._v(" "),a("li",[a("code",[e._v("Other")]),e._v(" - Any other member except this one")]),e._v(" "),a("li",[a("code",[e._v("UUID")]),e._v(" - A particular UUID")]),e._v(" "),a("li",[a("code",[e._v("/regex/")]),e._v(" - A regular expression matching a UUID")])]),e._v(" "),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("rundeck.clusterMode.remoteExecution.config.allowed = self,/1C519C5A-4E78-4BE9-85EC-.+/\n")])])]),a("p",[e._v("The example configuration shows Self and a regular expression combined.")]),e._v(" "),a("h4",{attrs:{id:"list-of-member-tags"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#list-of-member-tags","aria-hidden":"true"}},[e._v("#")]),e._v(" List of Member Tags")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("<List of Member Tags>")]),e._v(" parameter allows you to restrict the remote Cluster Members by using tags. The tags are similar to Node Tags. The special tag, Self, is automatically only assigned to the "),a("em",[e._v("local")]),e._v(" cluster node. Set tags for a cluster member in the framework.properties file.")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.config.allowedTags")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("<List of Member Tags>")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.config.preferredTags")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("<List of Member Tags>")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.config.activeOnly")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("true/false")]),e._v("\n")])])]),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.server.uuid")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("...")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.server.tags")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("worker,linux")]),e._v("\n")])])]),a("p",[e._v("Allowed Tags policy is configured in a similar way, using comma-separated allowed values, or "),a("code",[e._v("+")]),e._v(" separated tags, which require all tags. The example defines Round Robin execution on any other cluster member tagged as worker or secondary.")]),e._v(" "),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.policy")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("RoundRobin")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.config.allowed")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("other")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.config.allowedTags")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("worker,secondary")]),e._v("\n")])])]),a("p",[e._v("Use Preferred Tags to indicate that certain members are preferred. When Preferred Tags are defined, and some of the allowed members match those tags, the Preferred Members will be used. If no Preferred Members are available, the policy falls back to the Allowed Members that are available.")]),e._v(" "),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("p",[e._v("This configuration defines Allowed Tags and Preferred Tags for Round Robin execution on any worker or secondary members, if available. Otherwise, use Round Robin on all other members.")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.policy")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("RoundRobin")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.config.allowed")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("other")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.config.allowedTags")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("*")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.config.preferredTags")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("worker,secondary")]),e._v("\n")])])]),a("h4",{attrs:{id:"profile-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#profile-name","aria-hidden":"true"}},[e._v("#")]),e._v(" Profile Name")]),e._v(" "),a("p",[e._v("Define additional profiles by name:")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.profiles")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("profile1, profile2")]),e._v("\n")])])]),a("h4",{attrs:{id:"project-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#project-name","aria-hidden":"true"}},[e._v("#")]),e._v(" Project Name")]),e._v(" "),a("p",[e._v("Assign projects to a profile by name:")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.profile.profile1.projects")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("projectA, projectB")]),e._v("\n")])])]),a("p",[e._v("The following example defines a policy type and configuration for profile1:")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.profile.profile1.policy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("<Policy>")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.profile.profile1.config.allowed")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("<List of Allowed Members>")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.profile.profile1.config.allowedTags")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("<List of Member Tags>")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.profile.profile1.config.preferredTags")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("<List of Member Tags>")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.profile.profile1.config.activeOnly")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("true/false")]),e._v("\n")])])]),a("h3",{attrs:{id:"load-balanced-execution-policy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#load-balanced-execution-policy","aria-hidden":"true"}},[e._v("#")]),e._v(" Load Balanced Execution Policy")]),e._v(" "),a("p",[e._v("This feature allows Rundeck Enterprise cluster members to forward job executions to\nother cluster members based on statistics calculated by the heartbeat process\nof each cluster member. Load is calculated for each member based on thread\nratio and the percentage of CPU.")]),e._v(" "),a("p",[e._v("Note: You must be running Rundeck Enterprise 2.3.1 or a later release to use this feature.")]),e._v(" "),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.config.criteria")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("threadRatio,load")]),e._v("\n")])])]),a("p",[e._v("Each criteria can be weighted using a relative value:")]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.config.weights")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("1.0,1.5")]),e._v("\n")])])]),a("p",[e._v("Cluster members are sorted by the weighted load and placed into groups. Each\ngroup is given a weight, and the policy randomly chooses a group based on the\nproportional weight of the group. A member of the group is chosen randomly and\nused.")]),e._v(" "),a("p",[a("strong",[e._v("Example")])]),e._v(" "),a("div",{staticClass:"language-properties extra-class"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("rundeck.clusterMode.remoteExecution.config.groupWeight")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[e._v("1,0,0,0")]),e._v("\n")])])]),a("p",[e._v("The example defines four groups, each with 25% of the members. The weights define 100% chance of the first group being used.")])])},[],!1,null,null,null);t.default=s.exports}}]);