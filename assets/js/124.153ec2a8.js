(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{637:function(t,e,a){"use strict";a.r(e);var r=a(0),s=Object(r.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"node-executor-plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-executor-plugin","aria-hidden":"true"}},[t._v("#")]),t._v(" Node Executor Plugin")]),t._v(" "),a("h2",{attrs:{id:"about"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#about","aria-hidden":"true"}},[t._v("#")]),t._v(" About")]),t._v(" "),a("p",[t._v("A Node Executor provider executes a certain command on a remote or\nlocal node.")]),t._v(" "),a("h2",{attrs:{id:"java-plugin-type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#java-plugin-type","aria-hidden":"true"}},[t._v("#")]),t._v(" Java Plugin Type")]),t._v(" "),a("p",[t._v("Your provider class must implement the interface\n"),a("a",{attrs:{href:"https://static.javadoc.io/org.rundeck/rundeck-core/3.1.0-20190731/com/dtolabs/rundeck/core/execution/service/NodeExecutor.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("NodeExecutor"),a("OutboundLink")],1),t._v(":")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NodeExecutor")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NodeExecutorResult")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("executeCommand")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExecutionContext")]),t._v(" context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" command"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("INodeEntry")]),t._v(" node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"plugin-properties"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugin-properties","aria-hidden":"true"}},[t._v("#")]),t._v(" Plugin properties")]),t._v(" "),a("p",[t._v("See "),a("router-link",{attrs:{to:"/developer/01-plugin-development.html#plugin-descriptions"}},[t._v("Plugin Development - Java Plugins - Descriptions")]),t._v("\nto learn how to create configuration properties for your plugin.")],1),t._v(" "),a("h2",{attrs:{id:"script-plugin-type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#script-plugin-type","aria-hidden":"true"}},[t._v("#")]),t._v(" Script Plugin Type")]),t._v(" "),a("p",[t._v("See the "),a("router-link",{attrs:{to:"/developer/01-plugin-development.html#script-plugin-development"}},[t._v("Script Plugin Development")]),t._v("\nfor the basics of developing script-based plugins for Rundeck.")],1),t._v(" "),a("h3",{attrs:{id:"additional-data-context-properties"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#additional-data-context-properties","aria-hidden":"true"}},[t._v("#")]),t._v(" Additional data context properties")]),t._v(" "),a("p",[t._v("The data context used in the script plugin definition can use these additional properties:")]),t._v(" "),a("dl",[a("dt",[a("code",[t._v("${exec.command}")])]),t._v(" "),a("dd",[t._v("The user command to execute.")])]),t._v(" "),a("p",[t._v("For example, in the "),a("code",[t._v("metadata.yaml")]),t._v(", you could pass the command string to your script implementation as:")]),t._v(" "),a("pre",[a("code",[t._v("script-args: ${node.name} ${exec.command}\n")])]),t._v(" "),a("h3",{attrs:{id:"provider-script-requirements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#provider-script-requirements","aria-hidden":"true"}},[t._v("#")]),t._v(" Provider Script requirements")]),t._v(" "),a("p",[t._v("The specific service has expectations about the way your provider script behaves:")]),t._v(" "),a("h4",{attrs:{id:"script-exit-code"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#script-exit-code","aria-hidden":"true"}},[t._v("#")]),t._v(" Script Exit Code")]),t._v(" "),a("ul",[a("li",[t._v("Exit code of 0 indicates success.")]),t._v(" "),a("li",[t._v("Any other exit code indicates failure.")])]),t._v(" "),a("h4",{attrs:{id:"script-output"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#script-output","aria-hidden":"true"}},[t._v("#")]),t._v(" Script Output")]),t._v(" "),a("p",[t._v("All output to "),a("code",[t._v("STDOUT")]),t._v("/"),a("code",[t._v("STDERR")]),t._v(" will be captured for the job's output.")])])},[],!1,null,null,null);e.default=s.exports}}]);