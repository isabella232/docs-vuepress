(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{437:function(e,t,a){"use strict";a.r(t);var r=a(0),s=Object(r.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"using-postgres-as-a-database-backend"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-postgres-as-a-database-backend","aria-hidden":"true"}},[e._v("#")]),e._v(" Using Postgres as a database backend")]),e._v(" "),a("p",[e._v("This is a simple guide for setting up PostgreSQL for use with Rundeck.")]),e._v(" "),a("h2",{attrs:{id:"install-postgresql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#install-postgresql","aria-hidden":"true"}},[e._v("#")]),e._v(" Install PostgreSQL")]),e._v(" "),a("p",[e._v('You can "yum install" or "apt-get install" the server, or you can download rpms manually if you like. See '),a("a",{attrs:{href:"https://wiki.postgresql.org/wiki/Detailed_installation_guides",target:"_blank",rel:"noopener noreferrer"}},[e._v("PostgreSQL installation"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"setup-rundeck-database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setup-rundeck-database","aria-hidden":"true"}},[e._v("#")]),e._v(" Setup Rundeck Database")]),e._v(" "),a("p",[e._v("We have to create the database and user for Rundeck.")]),e._v(" "),a("p",[e._v("If it is not running, start Postgres (with "),a("code",[e._v("service postgresql-<version> start")]),e._v(" or similar).")]),e._v(" "),a("p",[e._v("Switch to 'postgres' user and use the 'psql' commandline tool to access the db:")]),e._v(" "),a("pre",[a("code",[e._v("$ su postgres\n$ psql\n")])]),e._v(" "),a("p",[e._v("Once you have the 'postgres=#'' prompt, enter the following commands to create the rundeck database:")]),e._v(" "),a("pre",[a("code",[e._v("postgres=# create database rundeck;\n")])]),e._v(" "),a("p",[e._v("Now, create a user and grant privileges to connect to this DB.")]),e._v(" "),a("pre",[a("code",[e._v("postgres=# create user rundeckuser with password 'rundeckpassword';\npostgres=# grant ALL privileges on database rundeck to rundeckuser;\n")])]),e._v(" "),a("p",[e._v("You can then exit the psql prompt.")]),e._v(" "),a("p",[e._v("You may also have to add a pg_hba.conf entry for this user. See "),a("a",{attrs:{href:"https://www.postgresql.org/docs/9.5/static/auth-pg-hba-conf.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("pg_hba.conf documentation"),a("OutboundLink")],1)]),e._v(" "),a("h2",{attrs:{id:"configure-rundeck"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configure-rundeck","aria-hidden":"true"}},[e._v("#")]),e._v(" Configure Rundeck")]),e._v(" "),a("p",[e._v("Now you need to configure Rundeck to connect to this DB as described in: "),a("router-link",{attrs:{to:"/administration/configuration/database/#customize-the-datasource"}},[e._v("Administrator Guide - Rundeck Configuration - Database - Customize the Datasource")]),e._v(".")],1),e._v(" "),a("p",[e._v("Update your "),a("code",[e._v("rundeck-config.properties")]),e._v(" and configure the datasource:")]),e._v(" "),a("pre",[a("code",[e._v("dataSource.driverClassName = org.postgresql.Driver\ndataSource.url = jdbc:postgresql://myserver/rundeck\ndataSource.username=rundeckuser\ndataSource.password=rundeckpassword\n")])]),e._v(" "),a("p",[e._v("With recent Rundeck versions, PostgreSQL connector is bundled.")]),e._v(" "),a("p",[e._v("Now, you can start Rundeck.")])])},[],!1,null,null,null);t.default=s.exports}}]);