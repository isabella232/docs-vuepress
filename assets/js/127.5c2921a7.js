(window.webpackJsonp=window.webpackJsonp||[]).push([[127],{514:function(t,a,e){"use strict";e.r(a);var n=e(0),s=Object(n.a)({},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"notification-plugin"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#notification-plugin","aria-hidden":"true"}},[t._v("#")]),t._v(" Notification Plugin")]),t._v(" "),e("h2",{attrs:{id:"about"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#about","aria-hidden":"true"}},[t._v("#")]),t._v(" About")]),t._v(" "),e("p",[t._v("Notifications are actions that are performed when a Job starts or finishes.")]),t._v(" "),e("p",[t._v("Currently there are three conditions that can trigger notifications:")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("onstart")]),t._v(" - the Job started")]),t._v(" "),e("li",[e("code",[t._v("onsuccess")]),t._v(" - the Job completed without error")]),t._v(" "),e("li",[e("code",[t._v("onfailure")]),t._v(" - the Job failed or was aborted")]),t._v(" "),e("li",[e("code",[t._v("onavgduration")]),t._v(" - The Execution exceed the average duration of the Job")]),t._v(" "),e("li",[e("code",[t._v("onretryablefailure")]),t._v(" - the Job failed but will be retried")])]),t._v(" "),e("p",[t._v("Rundeck has two built-in notification types that can be configured for Jobs:")]),t._v(" "),e("ol",[e("li",[t._v("Send an email to a list of addresses")]),t._v(" "),e("li",[t._v("POST XML to a list of URLs")])]),t._v(" "),e("p",[t._v("This chapter discusses how to create your own notification plugins.")]),t._v(" "),e("h2",{attrs:{id:"plugin-execution"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#plugin-execution","aria-hidden":"true"}},[t._v("#")]),t._v(" Plugin execution")]),t._v(" "),e("p",[t._v("When a notification is defined for a Job, and the associated trigger occurs, your plugin will be executed\nand passed in two sets of Map data:")]),t._v(" "),e("ol",[e("li",[t._v("Configuration data - the user-supplied configuration for the plugin")]),t._v(" "),e("li",[t._v("Execution data - information about the Job and Execution for the notification")])]),t._v(" "),e("h3",{attrs:{id:"configuration-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configuration-data","aria-hidden":"true"}},[t._v("#")]),t._v(" Configuration data")]),t._v(" "),e("p",[t._v("The Configuration data is fully custom depending on your plugin, and is described in the "),e("a",{attrs:{href:"#plugin-configuration-properties"}},[t._v("Plugin configuration properties")]),t._v(" section.")]),t._v(" "),e("h4",{attrs:{id:"property-references"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#property-references","aria-hidden":"true"}},[t._v("#")]),t._v(" Property References")]),t._v(" "),e("p",[t._v("The specific data values of the Configuration section are allowed to have\nembedded Property References as described in the\n"),e("router-link",{attrs:{to:"/manual/job-workflows.html#context-variables"}},[t._v("Jobs - Context Variables")]),t._v(" section.")],1),t._v(" "),e("p",[t._v("For example, when a user configures your plugin, they could embed an option value using: "),e("code",[t._v("${option.myoption}")]),t._v(". This value will be replaced with the runtime option value before being passed to your plugin.")]),t._v(" "),e("p",[t._v("When defining Configuration properties that use custom Validation, keep in mind\nthat the value set by a user may have such an embedded property reference and\ntherefore may not pass the validation rules you have defined. If you want to\nallow these property references for a Configuration property, it must be a String type property, and any custom validation code should allow the embedded\nproperty references, for example by looking for a "),e("code",[t._v("${")]),t._v(" sequence and allowing\nthe value.")]),t._v(" "),e("h3",{attrs:{id:"execution-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#execution-data","aria-hidden":"true"}},[t._v("#")]),t._v(" Execution data")]),t._v(" "),e("p",[t._v("The execution data is included as a Map called "),e("code",[t._v("execution")]),t._v("\ncontaining the following keys and values:")]),t._v(" "),e("p",[e("code",[t._v("execution.id")]),t._v(": ID of the execution")]),t._v(" "),e("p",[e("code",[t._v("execution.href")]),t._v(": URL to the execution output view")]),t._v(" "),e("p",[e("code",[t._v("execution.status")]),t._v(": Execution state ('running','failed','aborted','succeeded')")]),t._v(" "),e("p",[e("code",[t._v("execution.user")]),t._v(": User who started the job")]),t._v(" "),e("p",[e("code",[t._v("execution.dateStarted")]),t._v(": Start time (java.util.Date)")]),t._v(" "),e("p",[e("code",[t._v("execution.dateStartedUnixtime")]),t._v(": Start time as milliseconds since epoch (long)")]),t._v(" "),e("p",[e("code",[t._v("execution.dateStartedW3c")]),t._v(": Start time as a W3C formatted String")]),t._v(" "),e("p",[e("code",[t._v("execution.description")]),t._v(": Summary string for the execution")]),t._v(" "),e("p",[e("code",[t._v("execution.argstring")]),t._v(": Argument string for any job options")]),t._v(" "),e("p",[e("code",[t._v("execution.project")]),t._v(": Project name")]),t._v(" "),e("p",[e("code",[t._v("execution.loglevel")]),t._v(": Loglevel string ('ERROR','WARN','INFO','VERBOSE','DEBUG')")]),t._v(" "),e("p",[t._v("The following values may be available after the job is finished (not available for "),e("code",[t._v("onstart")]),t._v(" trigger):")]),t._v(" "),e("p",[e("code",[t._v("execution.failedNodeListString")]),t._v(": Comma-separated list of any nodes that failed, if present")]),t._v(" "),e("p",[e("code",[t._v("execution.failedNodeList")]),t._v(": Java List of any node names that failed, if present")]),t._v(" "),e("p",[e("code",[t._v("execution.succeededNodeListString")]),t._v(": Comma-separated list of any nodes that succeeded, if present")]),t._v(" "),e("p",[e("code",[t._v("execution.succeededNodeList")]),t._v(": Java List of any node names that succeeded, if present")]),t._v(" "),e("p",[e("code",[t._v("execution.nodestatus")]),t._v(": Java Map containing summary counts of node success/failure/total, in the form: "),e("code",[t._v("[succeeded: int, failed: int, total: int]")])]),t._v(" "),e("p",[e("code",[t._v("execution.dateEnded")]),t._v(": End time (java.util.Date)")]),t._v(" "),e("p",[e("code",[t._v("execution.dateEndedUnixtime")]),t._v(": End time as milliseconds since epoch (long)")]),t._v(" "),e("p",[e("code",[t._v("execution.dateEndedW3c")]),t._v(": End time as W3C formatted string")]),t._v(" "),e("p",[e("code",[t._v("execution.abortedby")]),t._v(": User who aborted the execution")]),t._v(" "),e("p",[e("code",[t._v("job")]),t._v(" information is in a "),e("code",[t._v("job")]),t._v(" entry and contains another Map:")]),t._v(" "),e("p",[e("code",[t._v("job.id")]),t._v(": Job ID")]),t._v(" "),e("p",[e("code",[t._v("job.href")]),t._v(": URL to Job view page")]),t._v(" "),e("p",[e("code",[t._v("job.name")]),t._v(": Job name")]),t._v(" "),e("p",[e("code",[t._v("job.group")]),t._v(": Job group")]),t._v(" "),e("p",[e("code",[t._v("job.project")]),t._v(": Project name")]),t._v(" "),e("p",[e("code",[t._v("job.description")]),t._v(": Job Description")]),t._v(" "),e("p",[e("code",[t._v("job.averageDuration")]),t._v(": Average job duration in Milliseconds, if available")]),t._v(" "),e("p",[e("code",[t._v("execution.context")]),t._v(" - this is a map containing all of the context variables available to the execution when it ran or will run, such as "),e("router-link",{attrs:{to:"/manual/job-workflows.html#context-variables"}},[t._v("Jobs - Context Variables")]),t._v(". The contents of this Map are the specific context namespaces and variables.")],1),t._v(" "),e("p",[e("code",[t._v("execution.context.option")]),t._v(": a Map containing all Job Option keys/values.")]),t._v(" "),e("p",[e("code",[t._v("execution.context.secureOption")]),t._v(": a Map containing only the Job Option keys/values whose value is set from secure storage.")]),t._v(" "),e("p",[e("code",[t._v("job")]),t._v(": a Map containing the Job context data, as provided to executions. This map will contain some duplicate information as the "),e("code",[t._v("execution.job")]),t._v(" map previously described.")]),t._v(" "),e("p",[t._v("In Groovy, you can simply reference any values in the Execution data maps using\n"),e("a",{attrs:{href:"http://groovy-lang.org/processing-xml.html#_gpath",target:"_blank",rel:"noopener noreferrer"}},[t._v("Groovy Gpath"),e("OutboundLink")],1),t._v(", e.g.:")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[t._v("println execution"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("context"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("option"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("myoption\n")])])]),e("h2",{attrs:{id:"plugin-configuration-properties"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#plugin-configuration-properties","aria-hidden":"true"}},[t._v("#")]),t._v(" Plugin configuration properties")]),t._v(" "),e("p",[t._v('Each plugin can define a set of "configuration" properties which allow users to specify input that the plugin can\nuse when it operates.')]),t._v(" "),e("p",[t._v("Notification plugins support scoped properties, allowing some of the configuration to be defined, or defaulted, on a per-project or per-Rundeck instance basis.")]),t._v(" "),e("h2",{attrs:{id:"plugin-types"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#plugin-types","aria-hidden":"true"}},[t._v("#")]),t._v(" Plugin types")]),t._v(" "),e("p",[t._v("Rundeck supports two types of Notification plugins:")]),t._v(" "),e("ol",[e("li",[t._v("Java-based development deployed as a Jar file.")]),t._v(" "),e("li",[t._v("Groovy-based deployed as a single "),e("code",[t._v(".groovy")]),t._v(" script.")])]),t._v(" "),e("p",[t._v('Currently "script-based" plugins (shell scripts, that is) are not supported.')]),t._v(" "),e("h2",{attrs:{id:"example-code"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#example-code","aria-hidden":"true"}},[t._v("#")]),t._v(" Example code")]),t._v(" "),e("p",[t._v("See the source directory "),e("code",[t._v("examples/example-groovy-notification-plugins")]),t._v(" for\nexamples of Notification plugins written in Groovy.")]),t._v(" "),e("ul",[e("li",[t._v("On github: "),e("a",{attrs:{href:"https://github.com/rundeck/rundeck/tree/development/examples/example-groovy-notification-plugins",target:"_blank",rel:"noopener noreferrer"}},[t._v("example-groovy-notification-plugins"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("See the source directory "),e("code",[t._v("examples/example-java-notification-plugin")]),t._v(" for\nJava examples.")]),t._v(" "),e("ul",[e("li",[t._v("On github: "),e("a",{attrs:{href:"https://github.com/rundeck/rundeck/tree/development/examples/example-java-notification-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("example-java-notification-plugin"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"java-plugin-type"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#java-plugin-type","aria-hidden":"true"}},[t._v("#")]),t._v(" Java Plugin Type")]),t._v(" "),e("p",[t._v("Java-based plugins can be developed just as any other Rundeck plugin, as described in the chapter "),e("router-link",{attrs:{to:"/developer/01-plugin-development.html#java-plugin-development"}},[t._v("Plugin Development - Java Plugin Development")]),t._v(".")],1),t._v(" "),e("p",[t._v("These plugin classes should implement the interface\n"),e("a",{attrs:{href:"https://static.javadoc.io/org.rundeck/rundeck-core/3.1.0-20190731/com/dtolabs/rundeck/plugins/notification/NotificationPlugin.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("NotificationPlugin"),e("OutboundLink")],1),t._v(":")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NotificationPlugin")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * Post a notification for the given trigger, dataset, and configuration\n     * @param trigger event type causing notification\n     * @param executionData execution data\n     * @param config notification configuration\n     */")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("postNotification")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" trigger"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" executionData"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" config"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("To define configuration properties for your plugin, you use the same mechanisms as for Workflow Steps, described under the chapter "),e("router-link",{attrs:{to:"/developer/01-plugin-development.html#plugin-descriptions"}},[t._v("Plugin Development - Plugin Descriptions")]),t._v(".")],1),t._v(" "),e("p",[t._v("The simplest way to do this is to use "),e("router-link",{attrs:{to:"/developer/02-plugin-annotations.html"}},[t._v("Plugin Annotations")]),t._v(". Here is an example class annotated to describe it to the Rundeck GUI:")],1),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Plugin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("service"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Notification"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"example"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@PluginDescription")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("title"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Example Plugin"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" description"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"An example Plugin for Rundeck Notifications."')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ExampleNotificationPlugin")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NotificationPlugin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@PluginProperty")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("title "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Test String"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" description "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a description"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" test"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("postNotification")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" trigger"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" executionData"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" config"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("err"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("printf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Trigger %s fired for %s, configuration: %s\\n"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("trigger"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("executionData"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("config"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("err"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("printf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Local field test is: %s\\n"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("test"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h2",{attrs:{id:"groovy-plugin-type"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#groovy-plugin-type","aria-hidden":"true"}},[t._v("#")]),t._v(" Groovy Plugin Type")]),t._v(" "),e("p",[t._v("Notification support the Groovy Plugin Type.")]),t._v(" "),e("p",[t._v("To define metadata about your plugin, and configuration properties, see the "),e("router-link",{attrs:{to:"/developer/01-plugin-development.html#groovy-plugin-development"}},[t._v("Plugin Development - Groovy Plugin Development")]),t._v(" chapter.")],1),t._v(" "),e("p",[t._v("To create a Groovy based plugin, create a file named "),e("code",[t._v("MyNotificationPlugin.groovy")]),t._v(" in the plugins directory for Rundeck.")]),t._v(" "),e("p",[t._v("You must restart rundeck to make the plugin available the first time, but you can subsequently update the .groovy script without restarting Rundeck.")]),t._v(" "),e("p",[e("router-link",{attrs:{to:"/developer/01-plugin-development.html#groovy-plugin-development"}},[t._v("Groovy Plugin Development")])],1),t._v(" "),e("h3",{attrs:{id:"groovy-dsl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#groovy-dsl","aria-hidden":"true"}},[t._v("#")]),t._v(" Groovy DSL")]),t._v(" "),e("p",[t._v("Within the Groovy script, you define your plugin by calling the "),e("code",[t._v("rundeckPlugin")]),t._v(" method, and pass it both the Class of the type of plugin, and a Closure used to build the plugin object.")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dtolabs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rundeck"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("plugins"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("notification")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NotificationPlugin")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rundeckPlugin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NotificationPlugin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//plugin definition goes here...")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("In this case we use the same "),e("code",[t._v("NotificationPlugin")]),t._v(" interface used for Java plugins.")]),t._v(" "),e("h3",{attrs:{id:"notification-handlers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#notification-handlers","aria-hidden":"true"}},[t._v("#")]),t._v(" Notification handlers")]),t._v(" "),e("p",[t._v("For a "),e("code",[t._v("NotificationPlugin")]),t._v(", you can define custom handlers for each of the notification triggers ("),e("code",[t._v("onsuccess")]),t._v(", "),e("code",[t._v("onfailure")]),t._v(", "),e("code",[t._v("onstart")]),t._v(", "),e("code",[t._v("onavgduration")]),t._v(", and "),e("code",[t._v("onretryablefailure")]),t._v(").")]),t._v(" "),e("p",[t._v("Simply define a closure with the given trigger name, and return a true value if your action was successful:")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[t._v("onstart"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" execution"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" configuration "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//perform an action using the execution and configuration")]),t._v("\n    println "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Job ${execution.job.name} has been started by ${execution.user}..."')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nonsuccess"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" execution"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" configuration "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//perform an action using the execution and configuration")]),t._v("\n    println "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Success! Job ${execution.job.name} worked fine."')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nonfailure"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" execution"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" configuration "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//perform an action using the execution and configuration")]),t._v("\n    println "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Oh No! Job ${execution.job.name} didn\'t work out."')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nonavgduration"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" execution"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" configuration "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//perform an action using the execution and configuration")]),t._v("\n    println "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Job ${execution.job.name} exceeded Average Duration!"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nonretryablefailure"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" execution"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" configuration "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//perform an action using the execution and configuration")]),t._v("\n    println "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Job ${execution.job.name} failed but will be retried."')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("If your closure returns a "),e("code",[t._v("false")]),t._v(" value, then Rundeck will log an error in the server log.")]),t._v(" "),e("h3",{attrs:{id:"example"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#example","aria-hidden":"true"}},[t._v("#")]),t._v(" Example")]),t._v(" "),e("p",[t._v("Here is a minimal example:")]),t._v(" "),e("p",[e("strong",[t._v("MinimalNotificationPlugin.groovy")]),t._v(":")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dtolabs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rundeck"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("plugins"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("notification")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NotificationPlugin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rundeckPlugin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NotificationPlugin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    onstart "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"job start: data ${execution}"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    onfailure "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"failure: data ${execution}"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    onsuccess "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"success: data ${execution}"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    onavgduration"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"exceeded average duration: data ${execution}"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    onretryablefailure"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"retryable failure: data ${execution}"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("Here is a full example showing plugin GUI metadata, configuration properties, and\nalternate closure parameter lists:")]),t._v(" "),e("p",[e("strong",[t._v("MyNotificationPlugin.groovy")]),t._v(":")]),t._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dtolabs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rundeck"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("plugins"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("notification")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NotificationPlugin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rundeckPlugin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NotificationPlugin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    title"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Example Plugin"')]),t._v("\n    description"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"An example"')]),t._v("\n\n    configuration"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n        test1 title"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Test1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" description"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Simple string"')]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Validation can be added with a closure")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("test2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("title"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Test2'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("description"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Matches a regex"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            it"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v("\\d"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("$"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//required select value, becomes a Select type")]),t._v("\n        test3 values"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"b"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" required"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//if not required, becomes a FreeSelect")]),t._v("\n        test4 values"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"b"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//If type is not specified, the defaultValue will be used to guess")]),t._v("\n        test5 defaultValue"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//becomes Integer type")]),t._v("\n        test6 defaultValue"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//becomes Boolean type")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//these properties are assigned default values and automatically typed")]),t._v("\n        test7"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("123")]),t._v("\n        test8"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"abc"')]),t._v("\n        test9"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n        test10"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n        test11"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"x"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"y"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"z"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//becomes a FreeSelect")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//redefining the same property will modify it")]),t._v("\n        test11 title"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"My Select Field"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" description"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Free Select field"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" defaultValue"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"y"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" required"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//the scope indicates the property will not show up in the GUI when configuring the Notification, but must be defined in the project.properties or framework.properties at runtime")]),t._v("\n        test11 required"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" scope"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Project'")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    onstart "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" executionData"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" config "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script, start: data ${executionData}, config: ${config}"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    onfailure "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" executionData "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Single argument, the configuration properties are available automatically")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script, failure: data ${executionData}, test1: ${test1}, test2: ${test2} test3: ${test3}"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    onsuccess "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//with no args, there is a "configuration" and an "execution" variable in the context')]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script, success: data ${execution}, test1: ${configuration.test1}, test2: ${configuration.test2} test3: ${configuration.test3}"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    onavgduration "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" executionData"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" config "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script, exceeded average duration: data ${executionData}, config: ${config}"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    onretryablefailure "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" executionData"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" config "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script, retryable failure: data ${executionData}, config: ${config}"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])])])},[],!1,null,null,null);a.default=s.exports}}]);