(window.webpackJsonp=window.webpackJsonp||[]).push([[253],{423:function(t,e,a){"use strict";a.r(e);var s=a(0),n=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"job-yaml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#job-yaml","aria-hidden":"true"}},[t._v("#")]),t._v(" JOB-YAML")]),t._v(" "),a("p",[t._v("Updated February 25, 2011")]),t._v(" "),a("h1",{attrs:{id:"name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#name","aria-hidden":"true"}},[t._v("#")]),t._v(" NAME")]),t._v(" "),a("p",[t._v("job-yaml-v13 - The 'job' YAML file declares job entries for Rundeck.")]),t._v(" "),a("h2",{attrs:{id:"loading-and-unloading"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loading-and-unloading","aria-hidden":"true"}},[t._v("#")]),t._v(" Loading and unloading")]),t._v(" "),a("p",[t._v("This file can be batch loaded via "),a("a",{attrs:{href:"https://rundeck.github.io/rundeck-cli/",target:"_blank",rel:"noopener noreferrer"}},[t._v("rd"),a("OutboundLink")],1),t._v(" jobs load command:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("rd "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("jobs")]),t._v(" load -p project --file /path/to/jobs.yaml -F yaml\n")])])]),a("p",[t._v("Rundeck job definitions can be dumped and saved to a file via\nrd jobs list command:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("rd "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("jobs")]),t._v(" list -p project --file /tmp/jobs.yaml -F yaml\n")])])]),a("h2",{attrs:{id:"structure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#structure","aria-hidden":"true"}},[t._v("#")]),t._v(" Structure")]),t._v(" "),a("p",[t._v("The YAML document can contain multiple Job definitions, in a sequence:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# job 1")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# job 2")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n")])])]),a("p",[t._v("Each Job definition is a Map consisting of some required and some optional entries, as listed below.")]),t._v(" "),a("h2",{attrs:{id:"job-map-contents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#job-map-contents","aria-hidden":"true"}},[t._v("#")]),t._v(" Job Map Contents")]),t._v(" "),a("p",[t._v("Each Job definition requires these values:")]),t._v(" "),a("p",[a("code",[t._v("name")])]),t._v(" "),a("p",[t._v(": the job name (required)")]),t._v(" "),a("p",[a("code",[t._v("description")])]),t._v(" "),a("p",[t._v(': the job description (can be blank). The firstline is the "simple description". Remaining lines are the "extended description".')]),t._v(" "),a("p",[a("code",[t._v("loglevel")])]),t._v(" "),a("p",[t._v(": the loglevel to use for the job, the value must be one of:")]),t._v(" "),a("pre",[a("code",[t._v("* `DEBUG`\n* `VERBOSE`\n* `INFO`\n* `WARN`\n* `ERROR`\n")])]),t._v(" "),a("p",[t._v('If the description contains more than one line of text, then the first line is used as the "short description" of the job, and rendered exactly as text. The remaining lines are the "extended description", rendered using Markdown format as HTML in the Rundeck GUI. Markdown can also embed HTML directly if you like. See '),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Markdown#Example",target:"_blank",rel:"noopener noreferrer"}},[t._v("Wikipedia - Markdown"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[t._v("The HTML is sanitized to remove disallowed tags before rendering to the browser (such as "),a("code",[t._v("<script>")]),t._v(", etc.).\nYou can disable all extended description HTML rendering\nvia a configuration flag.\nSee "),a("router-link",{attrs:{to:"/administration/configuration/gui-customization.html"}},[t._v("GUI Customization")]),t._v(".")],1),t._v(" "),a("p",[a("a",{attrs:{href:"#sequence"}},[a("code",[t._v("sequence")])])]),t._v(" "),a("p",[t._v(": The workflow sequence definition")]),t._v(" "),a("p",[t._v("A minimal job definition example:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" job name\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("loglevel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" INFO\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sequence")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("commands")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("exec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" a command\n")])])]),a("p",[t._v("Extended description using yaml 'literal' scalar string format (beginning with a "),a("code",[t._v("|")]),t._v("). Make sure each line is indented to the correct level.")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" job name\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v("\n    Performs a service")]),t._v("\n\n    This is <b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v("html</b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v("\n    <ul"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v("<li"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v("bulleted list</li"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v("</ul"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v('\n\n    <a href="/"'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v("Top</a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v("\n\n    1. this is a markdown numbered list\n    2. second item\n\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("a link"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("(http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//example.com)\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("loglevel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" INFO\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sequence")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("commands")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("exec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" a command\n")])])]),a("p",[t._v("In addition, these optional entries can be present:")]),t._v(" "),a("p",[a("code",[t._v("uuid")])]),t._v(" "),a("p",[t._v(": Unique UUID")]),t._v(" "),a("p",[a("code",[t._v("group")])]),t._v(" "),a("p",[t._v(": Job group name")]),t._v(" "),a("p",[a("code",[t._v("multipleExecutions")])]),t._v(" "),a("p",[t._v(": 'true/false': if true, the job can have more than one execution at once.")]),t._v(" "),a("p",[a("code",[t._v("timeout")])]),t._v(" "),a("p",[t._v(": a maximum runtime before the job will be stopped.")]),t._v(" "),a("pre",[a("code",[t._v("* `120` - indicates 120 seconds\n* `6h 30m` indicates 6 hours and 30 minutes\n* `${option.timeout}` reference to a job option value\n")])]),t._v(" "),a("p",[a("code",[t._v("retry")])]),t._v(" "),a("p",[t._v(": Number of times to retry the job if it fails or times out. Allowed values:")]),t._v(" "),a("pre",[a("code",[t._v("* An integer number indicating the maximum retries\n* `${option.retry}` reference to a job option value\n")])]),t._v(" "),a("p",[t._v("Alternatively the retry can be set with delay between retries:")]),t._v(" "),a("pre",[a("code",[t._v("* `120` - indicates 120 seconds\n* `6h 30m` indicates 6 hours and 30 minutes\n* `${option.delay}` reference to a job option value\n")])]),t._v(" "),a("p",[t._v("Example of retry with delay:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("retry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("delay")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1h1m1s\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("retry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'${option.retry}'")]),t._v("\n")])])]),a("p",[t._v("Example of simple retry:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("retry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("option.retry"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("code",[t._v("loglimit")])]),t._v(" "),a("p",[t._v(": An optional logging limit.\n(See "),a("router-link",{attrs:{to:"/manual/04-jobs.html#log-limit]"}},[t._v("Jobs - Log Limit")]),t._v(". Allowed values:")],1),t._v(" "),a("pre",[a("code",[t._v('* `###` If you specify a number, that is treated as the "Maximum total number of log lines"\n* `###/node` If you specify a number followed by `/node`, the number is treated as the "Maximum number of log lines for a single node"\n* `###[GMK]B` If you specify a number followed by a filesize suffix, that is treated as the "total log file size".  The file size suffixes allowed are "GB" (gigabyte), "MB" (megabyte), "KB" (kilobyte) and "B" (byte).\n')])]),t._v(" "),a("p",[a("code",[t._v("loglimitAction")])]),t._v(" "),a("p",[t._v(": The action to perform if the "),a("code",[t._v("loglimit")]),t._v(" value is exceeded.\nIf "),a("code",[t._v("loglimit")]),t._v(" is specified, but no "),a("code",[t._v("loglimitAction")]),t._v(" is set, it will default to a\nvalue of "),a("code",[t._v("halt")]),t._v(". Allowed values:")]),t._v(" "),a("pre",[a("code",[t._v("* `halt` - halt and fail the job (default)\n* `truncate` - do not halt the job, and truncate all further output\n")])]),t._v(" "),a("p",[a("code",[t._v("loglimitStatus")])]),t._v(" "),a("p",[t._v(": The status for the Job when halted. If no "),a("code",[t._v("loglimitStatus")]),t._v(" is set, it will default to a\nvalue of "),a("code",[t._v("failed")]),t._v(". Allowed values:")]),t._v(" "),a("pre",[a("code",[t._v("* `failed`\n* `aborted`\n* (any string)\n")])]),t._v(" "),a("p",[a("a",{attrs:{href:"#options"}},[a("code",[t._v("options")])])]),t._v(" "),a("p",[t._v(": Set of Options for the Job")]),t._v(" "),a("p",[a("a",{attrs:{href:"#schedule"}},[a("code",[t._v("schedule")])])]),t._v(" "),a("p",[t._v(": Job schedule")]),t._v(" "),a("p",[a("a",{attrs:{href:"#nodefilters"}},[a("code",[t._v("nodefilters")])])]),t._v(" "),a("p",[t._v(": Node filter definition")]),t._v(" "),a("p",[a("a",{attrs:{href:"#notification"}},[a("code",[t._v("notification")])])]),t._v(" "),a("p",[t._v(": Job result notifications")]),t._v(" "),a("p",[a("em",[t._v("Note:")]),t._v(" The UUID can be set manually (if\nyou are writing the job definition from scratch), or will be assigned at job\ncreation time by the Rundeck server using a random UUID. This string should be\nas unique as possible if you set it manually.")]),t._v(" "),a("p",[t._v("This identifier is used to uniquely identify jobs when ported between Rundeck\ninstances.")]),t._v(" "),a("h3",{attrs:{id:"sequence"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sequence","aria-hidden":"true"}},[t._v("#")]),t._v(" Sequence")]),t._v(" "),a("p",[t._v("This defines the Workflow options and execution sequence.")]),t._v(" "),a("p",[t._v("Example:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sequence")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("keepgoing")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("strategy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" node"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("first\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("commands")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("exec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scriptfile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scripturl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("...")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jobname\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("group")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" group\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" args\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nodeStep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" true/false\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" plugin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("type\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("configuration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" value\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("another")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" value\n")])])]),a("p",[t._v("The sequence has these required entries:")]),t._v(" "),a("p",[a("code",[t._v("keepgoing")])]),t._v(" "),a("p",[t._v(': "true/false" - whether the sequence should keep going if an error occurs')]),t._v(" "),a("p",[a("code",[t._v("strategy")])]),t._v(" "),a("p",[t._v(': "node-first" or "step-first". Determines the strategy for executing the sequence across a set of nodes. See the [Rundeck User Manual](/manual/04-jobs.md#workflow-control-settings] for more info.')]),t._v(" "),a("p",[a("code",[t._v("commands")])]),t._v(" "),a("p",[t._v(": This is a Sequence of: * One or more "),a("a",{attrs:{href:"#command"}},[t._v("Command Definitions")])]),t._v(" "),a("h3",{attrs:{id:"command"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#command","aria-hidden":"true"}},[t._v("#")]),t._v(" Command")]),t._v(" "),a("p",[t._v("Each command in the "),a("a",{attrs:{href:"#sequence"}},[t._v("Sequence")]),t._v(" can be of these different types:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#simple-command-entry"}},[t._v("Simple command execution entry")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#script-execution-entry"}},[t._v("Script execution entry")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#script-file-execution-entry"}},[t._v("Script file execution entry")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#job-reference-entry"}},[t._v("Job Reference entry")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#plugin-step-entry"}},[t._v("Plugin step entry")])])]),t._v(" "),a("p",[t._v("Each command can also embed an "),a("a",{attrs:{href:"#error-handler"}},[t._v("Error Handler")]),t._v(".")]),t._v(" "),a("p",[t._v("Each command can have a "),a("a",{attrs:{href:"#description"}},[t._v("description")]),t._v(".")]),t._v(" "),a("h3",{attrs:{id:"error-handler"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#error-handler","aria-hidden":"true"}},[t._v("#")]),t._v(" Error Handler")]),t._v(" "),a("p",[t._v("An Error Handler defines a secondary action in case the first one\nfails. An Error Handler is a map keyed with the name:")]),t._v(" "),a("p",[a("code",[t._v("errorhandler")])]),t._v(" "),a("p",[t._v("The Error Handler contents can be exactly the same as a "),a("a",{attrs:{href:"#command"}},[t._v("Command")]),t._v(", except it\ncannot contain another Error Handler. The contents are defined by one of these types:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#simple-command-entry"}},[t._v("Simple command execution entry")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#script-execution-entry"}},[t._v("Script execution entry")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#script-file-execution-entry"}},[t._v("Script file execution entry")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#job-reference-entry"}},[t._v("Job Reference entry")])])]),t._v(" "),a("p",[t._v("The errorhandler has this additional optional entry:")]),t._v(" "),a("p",[a("code",[t._v("keepgoingOnSuccess")])]),t._v(" "),a("p",[t._v(': "true/false" - If true, and the error handler succeeds, the workflow sequence will continue even if the workflow '),a("code",[t._v("keepgoing")]),t._v(" is false.")]),t._v(" "),a("h3",{attrs:{id:"description"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#description","aria-hidden":"true"}},[t._v("#")]),t._v(" description")]),t._v(" "),a("p",[t._v("Defines a description for a step.")]),t._v(" "),a("p",[a("code",[t._v("description")])]),t._v(" "),a("p",[t._v(": Text to describe this step (optional).")]),t._v(" "),a("h3",{attrs:{id:"simple-command-entry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#simple-command-entry","aria-hidden":"true"}},[t._v("#")]),t._v(" Simple Command Entry")]),t._v(" "),a("p",[t._v("This "),a("a",{attrs:{href:"#command"}},[t._v("Command")]),t._v(" consists of a single entry:")]),t._v(" "),a("p",[a("code",[t._v("exec")])]),t._v(" "),a("p",[t._v(": the command to execute")]),t._v(" "),a("h3",{attrs:{id:"script-execution-entry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#script-execution-entry","aria-hidden":"true"}},[t._v("#")]),t._v(" Script Execution Entry")]),t._v(" "),a("p",[t._v("This "),a("a",{attrs:{href:"#command"}},[t._v("Command")]),t._v(" executes the script content specified.")]),t._v(" "),a("p",[a("code",[t._v("script")])]),t._v(" "),a("p",[t._v(': The script content. It is useful to use the YAML "literal" scalar syntax shown below')]),t._v(" "),a("p",[a("code",[t._v("args")])]),t._v(" "),a("p",[t._v(": Optional string defining arguments to pass to the script.")]),t._v(" "),a("p",[t._v("Example:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n\n      echo this is a script\n      echo this is option value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" @option.test@\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" arguments passed to the script\n")])])]),a("h3",{attrs:{id:"script-file-execution-entry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#script-file-execution-entry","aria-hidden":"true"}},[t._v("#")]),t._v(" Script File Execution Entry")]),t._v(" "),a("p",[t._v("This "),a("a",{attrs:{href:"#command"}},[t._v("Command")]),t._v(" executes a script file stored on the server.")]),t._v(" "),a("p",[a("code",[t._v("scriptfile")])]),t._v(" "),a("p",[t._v(": path to the script file")]),t._v(" "),a("p",[a("code",[t._v("args")])]),t._v(" "),a("p",[t._v(": optional arguments to the script")]),t._v(" "),a("p",[t._v("Example:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scriptfile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" /path/to/script\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" arguments to script\n")])])]),a("h3",{attrs:{id:"script-url-execution-entry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#script-url-execution-entry","aria-hidden":"true"}},[t._v("#")]),t._v(" Script URL Execution Entry")]),t._v(" "),a("p",[t._v("This "),a("a",{attrs:{href:"#command"}},[t._v("Command")]),t._v(" downloads a script file from a URL and executes it.")]),t._v(" "),a("p",[a("code",[t._v("scripturl")])]),t._v(" "),a("p",[t._v(": URL to the script file")]),t._v(" "),a("p",[a("code",[t._v("args")])]),t._v(" "),a("p",[t._v(": optional arguments to the script")]),t._v(" "),a("p",[t._v("Example:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scripturl")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//example.com/path/to/script\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" arguments to script\n")])])]),a("h3",{attrs:{id:"script-interpreter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#script-interpreter","aria-hidden":"true"}},[t._v("#")]),t._v(" Script Interpreter")]),t._v(" "),a("p",[t._v("For "),a("code",[t._v("script")]),t._v(", "),a("code",[t._v("scriptfile")]),t._v(" and "),a("code",[t._v("scripturl")]),t._v(', you can optionally declare an "interpreter" string to use to execute the script, and whether the arguments are quoted or not.')]),t._v(" "),a("p",[a("code",[t._v("scriptInterpreter")])]),t._v(" "),a("p",[t._v(": Optional string to declare an interpreter line for the script. The script and args will be passed to this command, rather than executed directly.")]),t._v(" "),a("p",[t._v("Example:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#!/bin/bash")]),t._v("\n\n      echo this is a script\n      echo this is option value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" @option.test@\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" arguments passed to the script\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scriptInterpreter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" interpreter "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("flag\n")])])]),a("p",[t._v("This script will then be executed as:")]),t._v(" "),a("pre",[a("code",[t._v("interpreter -flag script.sh arguments ...\n")])]),t._v(" "),a("p",[a("code",[t._v("interpreterArgsQuoted")])]),t._v(" "),a("p",[t._v(": Optional boolean, indicating whether the script and arguments should be quoted when passed to the interpreter.")]),t._v(" "),a("p",[t._v("If "),a("code",[t._v("interpreterArgsQuoted")]),t._v(" is "),a("code",[t._v("true")]),t._v(", then the script will then be executed as:")]),t._v(" "),a("pre",[a("code",[t._v("interpreter -flag 'script.sh arguments ...'\n")])]),t._v(" "),a("h3",{attrs:{id:"job-reference-entry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#job-reference-entry","aria-hidden":"true"}},[t._v("#")]),t._v(" Job Reference Entry")]),t._v(" "),a("p",[t._v("This "),a("a",{attrs:{href:"#command"}},[t._v("Command")]),t._v(" executes another Rundeck Job.")]),t._v(" "),a("p",[a("code",[t._v("jobref")])]),t._v(" "),a("p",[t._v(": map consisting of these entries:")]),t._v(" "),a("pre",[a("code",[t._v("`name`\n\n:    Name of the Job\n\n`group`\n\n:    Group of the Job (optional)\n\n`args`\n\n:    Arguments to pass to the job when executed\n\n`nodeStep`\n\n:    Execute as a Node Step (optional). `true/false`.\n\n[nodefilters](#job-reference-nodefilters)\n\n:    Overriding node filters and dispatch options.\n")])]),t._v(" "),a("p",[t._v("Example:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("group")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" test\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" simple job test\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" args for the job\n")])])]),a("p",[t._v("If "),a("code",[t._v("nodeStep")]),t._v(' is set to "true", then the Job Reference step will operate as a '),a("em",[t._v("Node Step")]),t._v(" instead of the\ndefault. As a "),a("em",[t._v("Node Step")]),t._v(" it will execute once for each matched node in the containing Job workflow, and\ncan use node attribute variable expansion in the arguments to the job reference.")]),t._v(" "),a("h4",{attrs:{id:"job-reference-nodefilters"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#job-reference-nodefilters","aria-hidden":"true"}},[t._v("#")]),t._v(" Job Reference Nodefilters")]),t._v(" "),a("p",[t._v("A "),a("code",[t._v("nodefilters")]),t._v(" map entry specifies the Nodes to use for the referenced job, and the node-dispatch options. Contains the following entries:")]),t._v(" "),a("p",[a("code",[t._v("dispatch")])]),t._v(" "),a("p",[t._v(": a Map containing:")]),t._v(" "),a("pre",[a("code",[t._v('`keepgoing`\n\n:    "true/false" - whether to keepgoing on remaining nodes if a node fails\n\n`threadcount`\n\n:    Number of threads to use for parallel dispatch (default "1")\n\n`rankAttribute`\n\n:    Name of the Node attribute to use for ordering the sequence of nodes (default is the node name)\n\n`rankOrder`\n\n:    Order direction for node ranking. Either "ascending" or "descending" (default "ascending")\n')])]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("nodefilters")]),t._v(" should contain a "),a("code",[t._v("filter")]),t._v(" entry. The value is a string defining a node filter. See "),a("router-link",{attrs:{to:"/manual/11-node-filters.html"}},[t._v("User Guide - Node Filters")]),t._v(".")],1),t._v(" "),a("p",[a("code",[t._v("filter")])]),t._v(" "),a("p",[t._v(": A node filter string")]),t._v(" "),a("p",[t._v("Example:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jobname\n   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("group")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" group\n   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" args\n   "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nodefilters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dispatch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("threadcount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("keepgoing")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("rankAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" rank\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("rankOrder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" descending\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("'tags")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" web name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" web"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(".* "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("!os-")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("family")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" windows'\n")])])]),a("h3",{attrs:{id:"plugin-step-entry"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugin-step-entry","aria-hidden":"true"}},[t._v("#")]),t._v(" Plugin Step Entry")]),t._v(" "),a("p",[t._v("This "),a("a",{attrs:{href:"#command"}},[t._v("Command")]),t._v(" executes a plugin. There are two types of step plugins: Node step, and Workflow step.")]),t._v(" "),a("p",[a("code",[t._v("nodeStep")])]),t._v(" "),a("p",[t._v(": boolean: true indicates it is a Node step plugin, false indicates a Workflow step plugin.")]),t._v(" "),a("p",[a("code",[t._v("type")])]),t._v(" "),a("p",[t._v(": The plugin provider type identifier.")]),t._v(" "),a("p",[a("code",[t._v("configuration")])]),t._v(" "),a("p",[t._v(": map consisting of a single level of configuration entries for the plugin. Refer to the plugin documentation for appropriate configuration keys and values.")]),t._v(" "),a("p",[t._v("Example:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nodeStep")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jenkins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("build\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("configuration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("job")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"${option.job}"')]),t._v("\n")])])]),a("h3",{attrs:{id:"options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#options","aria-hidden":"true"}},[t._v("#")]),t._v(" Options")]),t._v(" "),a("p",[t._v("Options for a job can be specified with a list of Maps. Each map contains a "),a("code",[t._v("name")]),t._v(" key with the name of the option, and the content is a map defining the "),a("a",{attrs:{href:"#option"}},[t._v("Option")]),t._v(".")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("definition.."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("definition.."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Note: for backwards compatibility, a Map format is also accepted on import:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("optname1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("definition.."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("optname2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("definition.."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"option"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#option","aria-hidden":"true"}},[t._v("#")]),t._v(" Option")]),t._v(" "),a("p",[t._v("An option definition requires at least a "),a("code",[t._v("name")]),t._v(" key to identify it:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" myoption\n")])])]),a("p",[t._v("Optional map entries are:")]),t._v(" "),a("p",[a("code",[t._v("description")])]),t._v(" "),a("p",[t._v(": description of the option, will be rendered as Markdown")]),t._v(" "),a("p",[a("code",[t._v("value")])]),t._v(" "),a("p",[t._v(": a default value for the option")]),t._v(" "),a("p",[a("code",[t._v("values")])]),t._v(" "),a("p",[t._v(": A set of possible values for the option. This must be a YAML Sequence of strings.")]),t._v(" "),a("p",[a("code",[t._v("required")])]),t._v(" "),a("p",[t._v(': "true/false" - whether the option is required or not')]),t._v(" "),a("p",[a("code",[t._v("enforced")])]),t._v(" "),a("p",[t._v(': "true/false" - whether the option value must be one of the specified possible values')]),t._v(" "),a("p",[a("code",[t._v("regex")])]),t._v(" "),a("p",[t._v(": A regular expression defining what option values are acceptable")]),t._v(" "),a("p",[a("code",[t._v("valuesUrl")])]),t._v(" "),a("p",[t._v(": A URL to an endpoint that will return a JSON-formatted set of values for the option.")]),t._v(" "),a("p",[a("code",[t._v("multivalued")])]),t._v(" "),a("p",[t._v(': "true/false" - whether the option supports multiple input values')]),t._v(" "),a("p",[a("code",[t._v("delimiter")])]),t._v(" "),a("p",[t._v(": A string used to conjoin multiple input values. (Required if "),a("code",[t._v("multivalued")]),t._v(' is "true")')]),t._v(" "),a("p",[a("code",[t._v("multivalueAllSelected")])]),t._v(" "),a("p",[t._v(': "true/false" - whether all values should be selected by default')]),t._v(" "),a("p",[a("code",[t._v("secure")])]),t._v(" "),a("p",[t._v(': "true/false" - whether the option is a secure input option. Not compatible with "multivalued"')]),t._v(" "),a("p",[a("code",[t._v("valueExposed")])]),t._v(" "),a("p",[t._v(': "true/false" - whether a secure input option value is exposed to scripts or not. '),a("code",[t._v("false")]),t._v(" means the option will be used only as a Secure Remote Authentication option. default: "),a("code",[t._v("false")]),t._v(".")]),t._v(" "),a("p",[a("code",[t._v("storagePath")])]),t._v(" "),a("p",[t._v(": for a secure option, a storage path to password value to use as default")]),t._v(" "),a("p",[a("code",[t._v("isDate")])]),t._v(" "),a("p",[t._v(': "true/false" - the option should display as a date/time input field')]),t._v(" "),a("p",[a("code",[t._v("dateFormat")])]),t._v(" "),a("p",[t._v(": The date/time format to use in the UI. Using the "),a("a",{attrs:{href:"https://momentjs.com/docs/#/displaying/format/",target:"_blank",rel:"noopener noreferrer"}},[t._v("momentjs format"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[a("code",[t._v("sortIndex")]),t._v(" (deprecated)")]),t._v(" "),a("p",[t._v(": "),a("em",[t._v("integer")]),t._v(" - A number indicating the order this option should appear in the GUI. If specified this\noption will be arranged in order with other options with a "),a("code",[t._v("sortIndex")]),t._v(" value.\nIf the "),a("a",{attrs:{href:"#options"}},[t._v("Options")]),t._v(" are defined in a list, the order specified will be preserved.")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("description")]),t._v(" for an Option will be rendered with Markdown in the GUI.")]),t._v(" "),a("p",[t._v("Example:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" a test option\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" dvalue\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("regex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ^"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("abcd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("value$\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("values")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" avalue\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" bvalue\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cvalue\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("multivalued")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("delimiter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("','")]),t._v("\n")])])]),a("p",[t._v("Example using multiple lines for the description:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("required")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v("\n      example option description")]),t._v("\n\n      * this content will be rendered\n      * as markdown\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" dvalue\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("regex")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ^"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("abcd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("value$\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("values")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" avalue\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" bvalue\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cvalue\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("multivalued")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("delimiter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("','")]),t._v("\n")])])]),a("h4",{attrs:{id:"valuesurl-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#valuesurl-json","aria-hidden":"true"}},[t._v("#")]),t._v(" valuesUrl JSON")]),t._v(" "),a("p",[t._v("The data returned from the valuesUrl can be formatted as a list of values:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"x value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"y value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("p",[t._v("or as Name-value list:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"X Label"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"x value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Y Label"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"y value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"A Label"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("ul",[a("li",[t._v("See the [Jobs Guide](/manual/04-jobs.md#remote-option-values] for more info.")])]),t._v(" "),a("h3",{attrs:{id:"schedule"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#schedule","aria-hidden":"true"}},[t._v("#")]),t._v(" Schedule")]),t._v(" "),a("p",[t._v("Define a schedule for repeated execution of the Job. The schedule can be defined as a Crontab formatted string, or as individual components. The individual components support Crontab syntax.")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("crontab")]),t._v(": The crontab string, e.g. "),a("code",[t._v('"0 30 */6 ? Jan Mon *"')])])]),t._v(" "),a("p",[t._v("Or use a structure of explicit components. All of these are optional, but likely you want to change them:")]),t._v(" "),a("p",[a("code",[t._v("time")])]),t._v(" "),a("p",[t._v(": a map containing:")]),t._v(" "),a("pre",[a("code",[t._v('`seconds`\n\n:    seconds value (default: "0")\n\n`minute`\n\n:    minutes value (default: "0")\n\n`hour`\n\n:    hour value (default: "0")\n')])]),t._v(" "),a("p",[a("code",[t._v("month")])]),t._v(" "),a("p",[t._v(': Month value (default: "*")')]),t._v(" "),a("p",[a("code",[t._v("year")])]),t._v(" "),a("p",[t._v(': Year value (default "*")')]),t._v(" "),a("p",[a("code",[t._v("dayofmonth")])]),t._v(" "),a("pre",[a("code",[t._v("`day`\n\n:    day of month value. (mutually exclusive with `weekday`) Numerical values start with 1.\n")])]),t._v(" "),a("p",[a("code",[t._v("weekday")])]),t._v(" "),a("p",[t._v(": Map containing:")]),t._v(" "),a("pre",[a("code",[t._v('`day`\n\n:    Weekday value. (mutually exclusive with `dayofmonth`) (default: "*") Numerical values are 1-7 for Sunday-Saturday.\n')])]),t._v(" "),a("p",[t._v("Example using crontab string:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("schedule")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("crontab")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0 30 */6 ? Jan Mon *'")]),t._v("\n")])])]),a("p",[t._v("Example using structure:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("schedule")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("time")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hour")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'05'")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("minute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'01'")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("seconds")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("month")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" APR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("MAR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("MAY\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("year")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("weekday")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("day")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" FRI"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("MON"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("TUE\n")])])]),a("h3",{attrs:{id:"nodefilters"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nodefilters","aria-hidden":"true"}},[t._v("#")]),t._v(" Nodefilters")]),t._v(" "),a("p",[t._v("Specifies the Nodes to use for the job, and the node-dispatch options. Contains the following entries:")]),t._v(" "),a("p",[a("code",[t._v("dispatch")])]),t._v(" "),a("p",[t._v(": a Map containing:")]),t._v(" "),a("pre",[a("code",[t._v('`keepgoing`\n\n:    "true/false" - whether to keepgoing on remaining nodes if a node fails\n\n`excludePrecedence`\n\n:    "true/false" (default "true") - determines precedence for filters\n\n`threadcount`\n\n:    Number of threads to use for parallel dispatch (default "1")\n\n`rankAttribute`\n\n:    Name of the Node attribute to use for ordering the sequence of nodes (default is the node name)\n\n`rankOrder`\n\n:    Order direction for node ranking. Either "ascending" or "descending" (default "ascending")\n')])]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("nodefilters")]),t._v(" should contain a "),a("code",[t._v("filter")]),t._v(" entry. The value is a string defining a node filter. See "),a("router-link",{attrs:{to:"/manual/11-node-filters.html"}},[t._v("User Guide - Node Filters")]),t._v(".")],1),t._v(" "),a("p",[a("code",[t._v("filter")])]),t._v(" "),a("p",[t._v(": A node filter string")]),t._v(" "),a("p",[t._v("Example:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nodefilters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dispatch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("threadcount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("keepgoing")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("excludePrecedence")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("rankAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" rank\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("rankOrder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" descending\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("filter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("'tags")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" web name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" web"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(".* "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("!os-")]),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("family")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" windows'\n")])])]),a("p",[a("strong",[t._v("Note:")]),t._v(" The "),a("code",[t._v("include")]),t._v(" and "),a("code",[t._v("exclude")]),t._v(" map entries are deprecated and will be removed in a later version of Rundeck.")]),t._v(" "),a("p",[t._v("The "),a("code",[t._v("nodefilters")]),t._v(" must also contain ONE of "),a("code",[t._v("include")]),t._v(" or "),a("code",[t._v("exclude")]),t._v(" filter specifiers.")]),t._v(" "),a("p",[a("code",[t._v("include")]),t._v("/"),a("code",[t._v("exclude")])]),t._v(" "),a("p",[t._v(": A Map containing filter entries:")]),t._v(" "),a("pre",[a("code",[t._v('`hostname`\n\n:    Hostname filter\n\n`name`\n\n:    Node name filter\n\n`tags`\n\n:    Tags filter.  Supports boolean operators AND ("+") and OR (",").\n\n`os-name`\n\n:    OS name filter\n\n`os-family`\n\n:    OS Family filter\n\n`os-arch`\n\n:    OS Arch filter\n\n`os-version`\n\n:    OS Version filter\n')])]),t._v(" "),a("p",[t._v("Deprecated Example:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("nodefilters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("dispatch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("threadcount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("keepgoing")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("excludePrecedence")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("rankAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" rank\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("rankOrder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" descending\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("include")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tags")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" web\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" web"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(".*\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("exclude")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("os-family")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" windows\n")])])]),a("h3",{attrs:{id:"notification"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#notification","aria-hidden":"true"}},[t._v("#")]),t._v(" Notification")]),t._v(" "),a("p",[t._v("Defines a notification for the job. You can include any of "),a("code",[t._v("onsuccess")]),t._v(", "),a("code",[t._v("onfailure")]),t._v(", "),a("code",[t._v("onstart")]),t._v(", "),a("code",[t._v("onavgduration")]),t._v(", or "),a("code",[t._v("onretryablefailure")]),t._v(" notifications. Each type of notification can define any of the built in notifications, or define plugin notifications.")]),t._v(" "),a("p",[a("code",[t._v("onsuccess")]),t._v("/"),a("code",[t._v("onfailure")]),t._v("/"),a("code",[t._v("onstart")]),t._v("/"),a("code",[t._v("onavgduration")]),t._v("/"),a("code",[t._v("onretryablefailure")])]),t._v(" "),a("p",[t._v(": A Map containing either or both of:")]),t._v(" "),a("pre",[a("code",[t._v("`recipients`\n\n:    A comma-separated list of Email addresses\n\n`urls`\n\n:    A comma-separated list of URLs to use as webhooks\n\n[`plugin`](#plugin)\n\n:    Defines a plugin notification.\n")])]),t._v(" "),a("p",[t._v("Example:")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("notification")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("onfailure")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("recipients")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" tom@example.com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("shirley@example.com\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("onsuccess")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("urls")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://server/callback?id=${execution.id}&status=${execution.status}&trigger=${notification.trigger}'")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" myplugin\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("configuration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("somekey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" somevalue\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("onstart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" myplugin\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("configuration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("somekey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" somevalue\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" otherplugin\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("configuration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("a")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" b\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("onavgduration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("email")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("recipients")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" test@example.com\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("subject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Job Exceeded average duration\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("configuration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" MinimalNotificationPlugin\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("onretryablefailure")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("configuration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" MinimalNotificationPlugin\n")])])]),a("ul",[a("li",[t._v("For more information about the Webhook mechanism used, see the chapter [Integration - Webhooks](/manual/04-jobs.md#webhooks].")])]),t._v(" "),a("h4",{attrs:{id:"plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#plugin","aria-hidden":"true"}},[t._v("#")]),t._v(" plugin")]),t._v(" "),a("p",[t._v("Defines a plugin notification section, can contain a single Map, or a Sequence of Maps. Each such map must have these contents:")]),t._v(" "),a("p",[a("code",[t._v("type")])]),t._v(" "),a("p",[t._v(": The type identifier of the plugin")]),t._v(" "),a("p",[a("code",[t._v("configuration")])]),t._v(" "),a("p",[t._v(": A Map containing any custom configuration key/values for the plugin.")]),t._v(" "),a("h1",{attrs:{id:"see-also"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#see-also","aria-hidden":"true"}},[t._v("#")]),t._v(" SEE ALSO")]),t._v(" "),a("p",[a("router-link",{attrs:{to:"/manual/04-jobs.html"}},[t._v("rd jobs")])],1),t._v(" "),a("p",[a("a",{attrs:{href:"http://yaml.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://yaml.org/"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("The Rundeck source code and all documentation may be downloaded from\n"),a("a",{attrs:{href:"https://github.com/rundeck/rundeck/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/rundeck/rundeck/"),a("OutboundLink")],1),t._v(".")])])},[],!1,null,null,null);e.default=n.exports}}]);