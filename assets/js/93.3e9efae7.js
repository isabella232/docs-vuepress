(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{322:function(e,t,o){"use strict";o.r(t);var i=o(0),r=Object(i.a)({},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"plugin-development"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#plugin-development","aria-hidden":"true"}},[e._v("#")]),e._v(" Plugin Development")]),e._v(" "),o("p",[e._v("Updated November 20, 2010")]),e._v(" "),o("p",[e._v("There are currently three ways to develop plugins:")]),e._v(" "),o("ol",[o("li",[o("a",{attrs:{href:"#java-plugin-development"}},[e._v("Java plugin development")]),e._v(": Develop Java code that is distributed within a Jar file.")]),e._v(" "),o("li",[o("a",{attrs:{href:"#script-plugin-development"}},[e._v("Script Plugin Development")]),e._v(": Write shell/system scripts that implement your desired behavior and put them in a zip file with some metadata.")]),e._v(" "),o("li",[o("a",{attrs:{href:"#groovy-plugin-development"}},[e._v("Groovy Plugin Development")]),e._v(": Write groovy scripts to implement Notification and Logging plugins.")])]),e._v(" "),o("p",[e._v("Either way, the resultant plugin archive file, either a .jar java archive,\nor a .zip file archive, will be placed in the plugin directory\n(Launcher: "),o("code",[e._v("$RDECK_BASE/libext")]),e._v(", RPM,DEB: "),o("code",[e._v("/var/lib/rundeck/libext")]),e._v(").")]),e._v(" "),o("h2",{attrs:{id:"java-plugin-development"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#java-plugin-development","aria-hidden":"true"}},[e._v("#")]),e._v(" Java Plugin Development")]),e._v(" "),o("p",[e._v("Java plugins are distributed as .jar files containing the necessary classes for\none or more service provider, as well as any other java jar dependency files.")]),e._v(" "),o("p",[e._v('Each classname listed must be a valid "'),o("a",{attrs:{href:"#provider-classes"}},[e._v("Provider Class")]),e._v('" as defined below,\nand must have a '),o("code",[e._v("@Plugin")]),e._v(" annotation to define its service type and provider name.")]),e._v(" "),o("p",[e._v("The "),o("code",[e._v(".jar")]),e._v(" file you distribute must have this metadata within the main Manifest\nfor the jar file to be correctly loaded by the system:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("Rundeck-Plugin-Version: 1.2")])]),e._v(" "),o("li",[o("code",[e._v("Rundeck-Plugin-Archive: true")])]),e._v(" "),o("li",[o("code",[e._v("Rundeck-Plugin-Classnames: classname,..")])]),e._v(" "),o("li",[o("code",[e._v("Rundeck-Plugin-Libs: lib/something.jar ...")]),e._v(" "),o("em",[e._v("(optional)")])]),e._v(" "),o("li",[o("code",[e._v("Rundeck-Plugin-Author: Author name")]),e._v(" "),o("em",[e._v("(optional)")])]),e._v(" "),o("li",[o("code",[e._v("Rundeck-Plugin-URL: Website URL")]),e._v(" "),o("em",[e._v("(optional)")])]),e._v(" "),o("li",[o("code",[e._v("Rundeck-Plugin-Date: Publication date")]),e._v(" "),o("em",[e._v("(optional)")]),e._v(" in ISO8601 format")])]),e._v(" "),o("p",[e._v("Additionally, you should include a manifest entry to indicate the plugin file's version:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("Rundeck-Plugin-File-Version: 1.x")])])]),e._v(" "),o("p",[e._v("This version number will be used to load only the newest plugin file, if more than one provider of\nthe same name and type is defined.")]),e._v(" "),o("h3",{attrs:{id:"plugin-version"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#plugin-version","aria-hidden":"true"}},[e._v("#")]),e._v(" Plugin Version")]),e._v(" "),o("p",[o("code",[e._v("Rundeck-Plugin-Version")]),e._v(" indicates the plugin mechanism version")]),e._v(" "),o("h3",{attrs:{id:"build-dependencies"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#build-dependencies","aria-hidden":"true"}},[e._v("#")]),e._v(" Build dependencies")]),e._v(" "),o("p",[e._v("Rundeck's jars are published to the central Maven repository, and "),o("a",{attrs:{href:"https://jcenter.bintray.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("jCenter"),o("OutboundLink")],1),e._v(", so you can simply specify a dependency in your build file.")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("rundeck-core")]),e._v(" is the primary build dependency for most plugin types\n"),o("ul",[o("li",[o("a",{attrs:{href:"https://search.maven.org/artifact/org.rundeck/rundeck-core/$%7BVERSION_FULL%7D/jar",target:"_blank",rel:"noopener noreferrer"}},[e._v("org.rundeck:rundeck-core:${VERSION_FULL}"),o("OutboundLink")],1)])])]),e._v(" "),o("li",[o("code",[e._v("rundeck-storage-api")]),e._v(" is also required for (/developer/07-storage-plugin.md).\n"),o("ul",[o("li",[o("a",{attrs:{href:"https://search.maven.org/artifact/org.rundeck/rundeck-storage-api/$%7BVERSION_FULL%7D/jar",target:"_blank",rel:"noopener noreferrer"}},[e._v("org.rundeck:rundeck-storage-api:${VERSION_FULL}"),o("OutboundLink")],1)])])])]),e._v(" "),o("p",[e._v("For gradle, use:")]),e._v(" "),o("div",{staticClass:"language-{.java} extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("compile(group:'org.rundeck', name: 'rundeck-core', version: '${VERSION_FULL}')\n")])])]),o("p",[e._v("For maven use:")]),e._v(" "),o("div",{staticClass:"language-{.xml} extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("<dependencies>\n   <dependency>\n      <groupId>org.rundeck</groupId>\n      <artifactId>rundeck-core</artifactId>\n      <version>${VERSION_FULL}</version>\n      <scope>compile</scope>\n   </dependency>\n</dependencies>\n")])])]),o("ul",[o("li",[e._v("Rundeck's core jar is published to the central Maven repository, so you can now declare a build dependency more easily.")])]),e._v(" "),o("p",[e._v("If your Java classes require external libraries that are not included with\nthe Rundeck runtime, you can include them in your .jar archive. (Look in\n"),o("code",[e._v("$RDECK_BASE/tools/lib")]),e._v(" to see the set of\nthird-party jars that are available for your classes by default at runtime).")]),e._v(" "),o("p",[e._v("Specify the "),o("code",[e._v("Rundeck-Plugin-Libs")]),e._v(" attribute in the Main attributes of the\nManifest for the jar, set the value to a space-separated list of jar file names\nas you have included them in the jar.")]),e._v(" "),o("p",[e._v("E.g.:")]),e._v(" "),o("pre",[o("code",[e._v("Rundeck-Plugin-Libs: lib/somejar-1.2.jar lib/anotherjar-1.3.jar\n")])]),e._v(" "),o("p",[e._v("Then include the jar files in the Plugin's jar contents:")]),e._v(" "),o("pre",[o("code",[e._v("META-INF/\nMETA-INF/MANIFEST.MF\ncom/\ncom/mycompany/\ncom/mycompany/rundeck/\ncom/mycompany/rundeck/plugin/\ncom/mycompany/rundeck/plugin/test/\ncom/mycompany/rundeck/plugin/test/TestNodeExecutor.class\nlib/\nlib/somejar-1.2.jar\nlib/anotherjar-1.3.jar\n")])]),e._v(" "),o("h3",{attrs:{id:"available-services"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#available-services","aria-hidden":"true"}},[e._v("#")]),e._v(" Available Services")]),e._v(" "),o("p",[e._v('The Rundeck core makes use of several different "Services" that provide functionality for\nexecuting steps, getting information about Nodes or sending notifications.')]),e._v(" "),o("p",[e._v("Plugins can contain one or more Service Provider implementations.\nEach plugin file could contain multiple Providers for different types of services,\nhowever typically each plugin file would contain only providers related in some fashion.")]),e._v(" "),o("p",[e._v("Node Execution services:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("NodeExecutor")]),e._v(" - executes a command on a node "),o("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/core/execution/service/NodeExecutor.html"}},[e._v("javadoc")]),e._v(".")],1),e._v(" "),o("li",[o("code",[e._v("FileCopier")]),e._v(" - copies a file to a node "),o("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/core/execution/service/FileCopier.html"}},[e._v("javadoc")]),e._v(".")],1)]),e._v(" "),o("p",[e._v("Resource model services:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("ResourceModelSource")]),e._v(" - produces a set of Node definitions for a project "),o("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/core/resources/ResourceModelSource.html"}},[e._v("javadoc")]),e._v(".")],1),e._v(" "),o("li",[o("code",[e._v("ResourceFormatParser")]),e._v(" - parses a document into a set of Node resources "),o("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/core/resources/format/ResourceFormatParser.html"}},[e._v("javadoc")]),e._v(".")],1),e._v(" "),o("li",[o("code",[e._v("ResourceFormatGenerator")]),e._v(" - generates a document from a set of Node resources "),o("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/core/resources/format/ResourceFormatGenerator.html"}},[e._v("javadoc")]),e._v(".")],1)]),e._v(" "),o("p",[e._v("Workflow Step services (described in "),o("router-link",{attrs:{to:"/developer/03-step-plugins.html"}},[e._v("Workflow Step Plugin")]),e._v("):")],1),e._v(" "),o("ul",[o("li",[o("code",[e._v("WorkflowStep")]),e._v(" - runs a single step in a workflow.")]),e._v(" "),o("li",[o("code",[e._v("WorkflowNodeStep")]),e._v(" - runs a single step for each node in a workflow.")]),e._v(" "),o("li",[o("code",[e._v("RemoteScriptNodeStep")]),e._v(" - generates a script or command to execute remotely for each node in a workflow.")])]),e._v(" "),o("p",[e._v("Notification services (described in "),o("router-link",{attrs:{to:"/developer/05-notification-plugins.html"}},[e._v("Notification Plugin")]),e._v("):")],1),e._v(" "),o("ul",[o("li",[o("code",[e._v("Notification")]),e._v(" - performs an action after a Job state trigger.")])]),e._v(" "),o("p",[e._v("Storage services:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("Storage")]),e._v(" - backend for storing data: "),o("router-link",{attrs:{to:"/developer/07-storage-plugin.html"}},[e._v("Storage Plugin")])],1),e._v(" "),o("li",[o("code",[e._v("StorageConverter")]),e._v(" - modifies stored content or metadata: "),o("router-link",{attrs:{to:"/developer/08-storage-converter-plugins.html"}},[e._v("Storage Converter Plugin")])],1)]),e._v(" "),o("p",[e._v("Logging services:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("ExecutionFileStorage")]),e._v(" - stores and retrieves execution files to another location: "),o("router-link",{attrs:{to:"/developer/06-logging-plugins.html"}},[e._v("Execution File Storage Plugin")])],1),e._v(" "),o("li",[o("code",[e._v("StreamingLogWriter")]),e._v(" - writes execution log events to a destination: "),o("router-link",{attrs:{to:"/developer/06-logging-plugins.html"}},[e._v("Streaming Log Writer Plugin")])],1),e._v(" "),o("li",[o("code",[e._v("StreamingLogReader")]),e._v(" - reads execution log events from a destination: "),o("router-link",{attrs:{to:"/developer/06-logging-plugins.html"}},[e._v("Streaming Log Reader Plugin")])],1)]),e._v(" "),o("p",[e._v("Orchestrator:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("Orchestrator")]),e._v(" - orchestrates node dispatching: "),o("router-link",{attrs:{to:"/developer/09-orchestrator-plugin.html"}},[e._v("Orchestrator Plugin")])],1)]),e._v(" "),o("h3",{attrs:{id:"provider-classes"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#provider-classes","aria-hidden":"true"}},[e._v("#")]),e._v(" Provider Classes")]),e._v(" "),o("p",[e._v('A "Provider Class" is a java class that implements a particular interface and declares\nitself as a provider for a particular Rundeck "Service".')]),e._v(" "),o("p",[e._v('Each plugin also defines a "Name" that identifies it for use in Rundeck. The Name\nof a plugin is also referred to as a "Provider Name", as the plugin class is a\nprovider of a particular service.')]),e._v(" "),o("p",[e._v("You should choose a unique but simple name for your provider.")]),e._v(" "),o("p",[e._v("Each plugin class must have the\n"),o("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/core/plugins/Plugin.html"}},[e._v("Plugin")]),e._v(" annotation applied to it.")],1),e._v(" "),o("div",{staticClass:"language-{.java} extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v('@Plugin(name="myprovider", service="NodeExecutor")\npublic class MyProvider implements NodeExecutor {\n...\n}\n')])])]),o("p",[e._v("Your provider class must have at least a zero-argument constructor, and optionally\ncan have a single-argument constructor with a\n"),o("code",[e._v("com.dtolabs.rundeck.core.common.Framework")]),e._v(" parameter, in which case your\nclass will be constructed with this constructor and passed the Framework\ninstance.")]),e._v(" "),o("p",[e._v("You may log messages to the ExecutionListener available via\n"),o("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/core/execution/ExecutionContext.html"}},[e._v("ExecutionContext#getExecutionListener()")]),e._v(" method.")],1),e._v(" "),o("p",[e._v("You can also send output to "),o("code",[e._v("System.err")]),e._v(" and "),o("code",[e._v("System.out")]),e._v(" and it will be\ncaptured as output of the execution.")]),e._v(" "),o("h3",{attrs:{id:"provider-lifecycle"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#provider-lifecycle","aria-hidden":"true"}},[e._v("#")]),e._v(" Provider Lifecycle")]),e._v(" "),o("p",[e._v("Provider classes are instantiated when needed by the Framework object, and the\ninstance is retained within the Service for future reuse. The Framework\nobject may exist across multiple executions, and the provider instance may be\nreused.")]),e._v(" "),o("p",[e._v("Provider instances may also be used by multiple threads.")]),e._v(" "),o("p",[e._v("Your provider class should not use any instance fields and should be\ncareful not to use un-threadsafe operations.")]),e._v(" "),o("h3",{attrs:{id:"plugin-failure-results"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#plugin-failure-results","aria-hidden":"true"}},[e._v("#")]),e._v(" Plugin failure results")]),e._v(" "),o("p",[e._v('Some plugin methods return a "Result" interface which indicates the result status of the call to the plugin class. If there is an error, some plugins allow an Exception to be thrown or for the error to be included in the Result class. In both cases, there is a "FailureReason" that must be specified.\nSee the javadoc:\n'),o("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/core/execution/workflow/steps/FailureReason.html"}},[e._v("FailureReason")]),e._v(".")],1),e._v(" "),o("p",[e._v("This can be any implementation of the FailureReason interface, and this object's "),o("code",[e._v("toString()")]),e._v(' method will be used to return the reason value (for example, it is passed to Error Handler steps in a Workflow as the "result.reason" string). The mechanism used internally is to provide an Enum implementation of the FailureReason interface, and to enumerate the possible reasons for failure within the enum.')]),e._v(" "),o("p",[e._v("You are encouraged to re-use existing FailureReasons as much as possible as they provide some basic failure causes. Existing classes:")]),e._v(" "),o("ul",[o("li",[o("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/core/execution/workflow/steps/node/NodeStepFailureReason.html"}},[e._v("NodeStepFailureReason")])],1),e._v(" "),o("li",[o("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/core/execution/workflow/steps/StepFailureReason.html"}},[e._v("StepFailureReason")])],1)]),e._v(" "),o("h3",{attrs:{id:"plugin-descriptions"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#plugin-descriptions","aria-hidden":"true"}},[e._v("#")]),e._v(" Plugin Descriptions")]),e._v(" "),o("p",[e._v("To define a plugin that presents custom GUI configuration properties and/or\nuses Project/Framework level configuration, you need to provide a Description\nof your plugin. The Description defines metadata about the plugin, such as the\ndisplay name and descriptive text, as well as the list of all\nconfiguration Properties that it supports.")]),e._v(" "),o("p",[e._v("There are several ways to declare your plugin's Description:")]),e._v(" "),o("p",[o("strong",[e._v("Collaborator interface")])]),e._v(" "),o("p",[e._v("Implement the\n"),o("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/plugins/util/DescriptionBuilder.Collaborator.html"}},[e._v("DescriptionBuilder.Collaborator")]),e._v(" interface\nin your plugin class, and it will be given an opportunity to perform actions on the Builder object before it finally constructs a Description.")],1),e._v(" "),o("p",[o("strong",[e._v("Describable interface")])]),e._v(" "),o("p",[e._v("If you want to build the Description object yourself, you can do so by\nimplementing the\n"),o("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/core/plugins/configuration/Describable.html"}},[e._v("Describable")]),e._v("\ninterface. Return a\n"),o("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/core/plugins/configuration/Description.html"}},[e._v("Description")]),e._v(" instance. You can\nconstruct one by using the\n"),o("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/plugins/util/DescriptionBuilder.html"}},[e._v("DescriptionBuilder")]),e._v(" builder class.")],1),e._v(" "),o("p",[o("strong",[e._v("Description Annotations")])]),e._v(" "),o("p",[e._v("Newer plugin types support using java annotations to create a Description object.\nSee "),o("router-link",{attrs:{to:"/developer/02-plugin-annotations.html"}},[e._v("Plugin Annotations")]),e._v(".")],1),e._v(" "),o("p",[o("strong",[e._v("Provider Metadata")])]),e._v(" "),o("p",[e._v("See (/developer/02-plugin-annotations.md#plugin-provider-metadata]].")]),e._v(" "),o("h4",{attrs:{id:"description-properties"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#description-properties","aria-hidden":"true"}},[e._v("#")]),e._v(" Description Properties")]),e._v(" "),o("p",[e._v("Within a Description object you can define a set of Property objects, which represent the input properties for the plugin.")]),e._v(" "),o("p",[e._v("Some plugin types support using Java Annotations to define properties, see "),o("router-link",{attrs:{to:"/developer/02-plugin-annotations.html"}},[e._v("Plugin Annotations")]),e._v(".")],1),e._v(" "),o("p",[e._v("For the remaining plugin types, the Properties must be defined using the other interfaces described above, typically with the use of a "),o("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/plugins/util/PropertyBuilder.html"}},[e._v("PropertyBuilder")]),e._v(".")],1),e._v(" "),o("p",[o("strong",[e._v("Rendering Options")])]),e._v(" "),o("p",[e._v('You can specify "rendering options" to affect the property being rendered in the Rundeck GUI. These affect Property type '),o("em",[e._v("String")]),e._v(" only:")]),e._v(" "),o("ul",[o("li",[e._v("Textarea: renders the input as a multi-line text area.")]),e._v(" "),o("li",[e._v("Password: renders the input as a password input.")])]),e._v(" "),o("p",[e._v("For more information see the options under "),o("a",{attrs:{href:"#property-rendering-options"}},[e._v("Property Rendering options")]),e._v(".")]),e._v(" "),o("p",[e._v("A set of constants for the supported rendering option keys and some values are provided in the "),o("router-link",{attrs:{to:"/developer/${javadocbase}/com/dtolabs/rundeck/core/plugins/configuration/StringRenderingConstants.html"}},[e._v("StringRenderingConstants")]),e._v(".")],1),e._v(" "),o("h3",{attrs:{id:"internationalization-localization-for-jar-files"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#internationalization-localization-for-jar-files","aria-hidden":"true"}},[e._v("#")]),e._v(" Internationalization/Localization for Jar files")]),e._v(" "),o("p",[e._v('Since Rundeck 2.6.10, Plugins support Internationalization ("i18n") using Java properties files.')]),e._v(" "),o("p",[e._v("Include a "),o("code",[e._v("resources/i18n")]),e._v(" directory in your jar file, with localized versions of your Plugin messages.")]),e._v(" "),o("p",[e._v("See "),o("a",{attrs:{href:"#plugin-localization"}},[e._v("Plugin Localization")]),e._v(".")]),e._v(" "),o("h2",{attrs:{id:"groovy-plugin-development"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#groovy-plugin-development","aria-hidden":"true"}},[e._v("#")]),e._v(" Groovy Plugin Development")]),e._v(" "),o("p",[e._v("Some types of plugins can be created with a simple Groovy-based DSL.\nThis gives you a simpler way to develop plugins, but still provides the power of Java. Of course, you can build a Java plugin using Groovy, however this DSL allows you to create a plugin within a single file for simple\nuse cases.")]),e._v(" "),o("p",[e._v("To create a Groovy based plugin, create a file named "),o("code",[e._v("MyXYZPlugin.groovy")]),e._v(" in the plugins directory for Rundeck.")]),e._v(" "),o("p",[e._v("You must restart rundeck to make the plugin available the first time, but you can subsequently update the .groovy script without restarting Rundeck.")]),e._v(" "),o("h3",{attrs:{id:"groovy-dsl"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#groovy-dsl","aria-hidden":"true"}},[e._v("#")]),e._v(" Groovy DSL")]),e._v(" "),o("p",[e._v("Within the Groovy script, you define your plugin by calling the "),o("code",[e._v("rundeckPlugin")]),e._v(" method, and pass it both the Class of the type of plugin, and a Closure used to build the plugin object.")]),e._v(" "),o("div",{staticClass:"language-{.java} extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("import  com.dtolabs.rundeck.plugins.notification.NotificationPlugin\nrundeckPlugin(NotificationPlugin){\n    //plugin definition goes here...\n}\n")])])]),o("p",[e._v("In this case we use the same "),o("code",[e._v("NotificationPlugin")]),e._v(" interface used for Java "),o("router-link",{attrs:{to:"/developer/05-notification-plugins.html"}},[e._v("Notification Plugins")]),e._v(".")],1),e._v(" "),o("p",[e._v("However, for other plugin types you would specify the correct Java interface for the specific plugin type.")]),e._v(" "),o("p",[e._v("Note: Be sure to "),o("code",[e._v("import")]),e._v(" all necessary types used in the Groovy script.")]),e._v(" "),o("h4",{attrs:{id:"definition"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#definition","aria-hidden":"true"}},[e._v("#")]),e._v(" Definition")]),e._v(" "),o("p",[e._v("Within the definition section you can define your plugin's Description to be shown in the Rundeck GUI, as well as\nconfiguration properties to present to the user.")]),e._v(" "),o("p",[o("em",[e._v("Properties")])]),e._v(" "),o("p",[e._v("Set these properties to change the GUI display of your plugin:")]),e._v(" "),o("div",{staticClass:"language-{.java} extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v('title=\'My Plugin\'\ndescription=\'Does some action\'\nversion = "0.0.1"\nurl = "http://example"\nauthor = "Â© 2018, me"\nmetadata = [:] //a map defining *Provider Metadata*\n')])])]),o("p",[e._v("See [Provider Metadata] for information about what metadata keys may be used.")]),e._v(" "),o("p",[o("em",[e._v("Configuration")])]),e._v(" "),o("p",[e._v("Use a "),o("code",[e._v("configuration")]),e._v(" closure to define configuration properties:")]),e._v(" "),o("div",{staticClass:"language-{.java} extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("configuration{\n    //property definitions go here...\n}\n")])])]),o("p",[e._v("Note: not all plugin types support "),o("code",[e._v("configuration")]),e._v(".")]),e._v(" "),o("p",[o("em",[e._v("Property Definitions")])]),e._v(" "),o("p",[e._v("User configuration properties can be defined in a few ways. To define a property within the "),o("code",[e._v("configuration")]),e._v(" section, you can use either of these forms:")]),e._v(" "),o("ol",[o("li",[e._v("method call form, specifying the attributes of the property:")])]),e._v(" "),o("div",{staticClass:"language-{.java} extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v('myproperty (title: "My Property", description: "Something", type: \'Integer\')\n')])])]),o("ol",{attrs:{start:"2"}},[o("li",[e._v("assignment form. This form guesses the data type and sets the defaultValue, but does not add any other attributes.")])]),e._v(" "),o("div",{staticClass:"language-{.java} extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v('myproperty2="default value"\n//the above is equivalent to:\nmyproperty2(defaultValue:"default value", type: \'String\')\n\nmyproperty3=["value","another","text"]\n//the above is equivalent to:\nmyproperty3(type:\'FreeSelect\',values:["value","another","text"])\n')])])]),o("p",[e._v("Each property has several attributes you can define, but only "),o("code",[e._v("name")]),e._v(" and "),o("code",[e._v("type")]),e._v(" are required:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("name")]),e._v(" - the unique identifier for this property")]),e._v(" "),o("li",[o("code",[e._v("type")]),e._v(" - the data type to use for the property, defaults to String. Available types:\n"),o("ul",[o("li",[o("code",[e._v("String")]),e._v(" - user can enter text")]),e._v(" "),o("li",[o("code",[e._v("Integer")]),e._v(", "),o("code",[e._v("Long")]),e._v(" - user can enter a number")]),e._v(" "),o("li",[o("code",[e._v("Boolean")]),e._v(" - user is shown a checkbox")]),e._v(" "),o("li",[o("code",[e._v("Select")]),e._v(" or "),o("code",[e._v("FreeSelect")]),e._v(" - user can choose from a list. With "),o("code",[e._v("FreeSelect")]),e._v(", the user can also type in any value")])])]),e._v(" "),o("li",[o("code",[e._v("title")]),e._v(" - a user-readable string to describe the property")]),e._v(" "),o("li",[o("code",[e._v("description")]),e._v(" - a string describing the property")]),e._v(" "),o("li",[o("code",[e._v("required")]),e._v(" - whether the property is required to have a value")]),e._v(" "),o("li",[o("code",[e._v("defaultValue")]),e._v(" - any default value for the property")]),e._v(" "),o("li",[o("code",[e._v("scope")]),e._v(' - defines the scope for the property. Allowed values are described under the chapter [Plugin Annotations - Property Scopes](/developer/02-plugin-annotations.md#property-scopes]. You may also simply use a String matching the name of the scope, e.g. "Instance". The default scope if unspecified is "Instance".')])]),e._v(" "),o("p",[e._v("In addition to these properties, for "),o("code",[e._v("Select")]),e._v(" or "),o("code",[e._v("FreeSelect")]),e._v(" type, you can define:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("values")]),e._v(" - list of string values the user can select from")])]),e._v(" "),o("p",[e._v("To define a validation check for a property, use the first form and supply a closure. The implicit "),o("code",[e._v("it")]),e._v(" variable will be the value of the property to check, and your closure should return "),o("code",[e._v("true")]),e._v(" if the value is valid.")]),e._v(" "),o("div",{staticClass:"language-{.java} extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("phone_number(title: \"Phone number\"){\n   it.replaceAll(/[^\\d]/,'')==~/^\\d{10}$/\n}\n")])])]),o("p",[o("strong",[e._v("A Note about Scopes and Validation")]),e._v(":")]),e._v(" "),o("p",[e._v("The user is presented with any "),o("code",[e._v("Instance")]),e._v(' scoped properties in the Rundeck GUI when defining a Job, and any invalid configuration values will present an error when saving the Job. This includes failing to set a value for a "required" property. However, if you have properties that are scoped for '),o("code",[e._v("Project")]),e._v(" or lower, those properties will not be shown in the GUI. In that case, the validation will not be checked for the properties when saving the Job definition, and will only be performed when the plugin is invoked.")]),e._v(" "),o("h3",{attrs:{id:"supported-groovy-plugin-types"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#supported-groovy-plugin-types","aria-hidden":"true"}},[e._v("#")]),e._v(" Supported Groovy Plugin Types")]),e._v(" "),o("ul",[o("li",[e._v("(/developer/05-notification-plugins.md#groovy-plugin-type])")]),e._v(" "),o("li",[o("router-link",{attrs:{to:"/developer/06-logging-plugins.html#groovy-streaminglogreader"}},[e._v("Streaming Log Reader")])],1),e._v(" "),o("li",[o("router-link",{attrs:{to:"/developer/06-logging-plugins.html#groovy-streaminglogwriter"}},[e._v("Streaming Log Writer")])],1),e._v(" "),o("li",[o("router-link",{attrs:{to:"/developer/06-logging-plugins.html#groovy-executionfilestorage"}},[e._v("Execution File Storage")])],1),e._v(" "),o("li",[o("router-link",{attrs:{to:"/developer/log-filter-plugins.html#groovy-logfilter"}},[e._v("Log Filter")])],1),e._v(" "),o("li",[o("router-link",{attrs:{to:"/developer/content-converter-plugins.html#groovy-contentconverter"}},[e._v("Content Converter Plugin")])],1)]),e._v(" "),o("h2",{attrs:{id:"script-plugin-development"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#script-plugin-development","aria-hidden":"true"}},[e._v("#")]),e._v(" Script Plugin Development")]),e._v(" "),o("p",[e._v("Script plugins can provide the same services as Java plugins, but they do so\nwith a script that is invoked in an external system processes by the JVM.")]),e._v(" "),o("p",[e._v("These Services support Script Plugins:")]),e._v(" "),o("ul",[o("li",[o("router-link",{attrs:{to:"/developer/04-node-execution-plugins.html#script-plugin-type"}},[e._v("NodeExecutor")])],1),e._v(" "),o("li",[o("router-link",{attrs:{to:"/developer/04-file-copier-plugins.html#script-plugin-type"}},[e._v("FileCopier")])],1),e._v(" "),o("li",[o("router-link",{attrs:{to:"/developer/03-model-source-plugins.html#script-plugin-type"}},[e._v("ResourceModelSource")])],1),e._v(" "),o("li",[e._v("[WorkflowNodeStep](/developer/03-step-plugins.md#script-plugin-type] and RemoteScriptNodeStep")])]),e._v(" "),o("h3",{attrs:{id:"ui-plugin-development"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#ui-plugin-development","aria-hidden":"true"}},[e._v("#")]),e._v(" UI Plugin Development")]),e._v(" "),o("p",[e._v("UI Plugins are supported with a "),o("code",[e._v("ui")]),e._v(" plugin type, which is similar to a Script Plugin.")]),e._v(" "),o("p",[e._v("See: "),o("router-link",{attrs:{to:"/developer/11-ui-plugins.html"}},[e._v("UI Plugins")]),e._v(".")],1),e._v(" "),o("h3",{attrs:{id:"script-plugin-zip-structure"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#script-plugin-zip-structure","aria-hidden":"true"}},[e._v("#")]),e._v(" Script plugin zip structure")]),e._v(" "),o("p",[e._v("You must create a zip file with the following structure:")]),e._v(" "),o("pre",[o("code",[e._v("[name]-plugin.zip\n\\- [name]-plugin/ -- root directory of zip contents, same name as zip file\n   |- plugin.yaml -- plugin metadata file\n   |- contents/\n   |  |- ...      -- script or resource files\n   |  \\- ...\n   \\- resources/  -- i18n resources, icons, (and for UI plugins: scripts/css)\n      |- i18n/\n      |- ...\n")])]),e._v(" "),o("p",[e._v("Here is an example:")]),e._v(" "),o("pre",[o("code",[e._v("$ unzip -l example-1.0-plugin.zip\nArchive:  example-1.0-plugin.zip\n  Length     Date   Time    Name\n --------    ----   ----    ----\n        0  04-12-11 11:31   example-1.0-plugin/\n        0  04-11-11 15:31   example-1.0-plugin/contents/\n     2142  04-11-11 15:31   example-1.0-plugin/contents/script1.sh\n     1591  04-11-11 13:10   example-1.0-plugin/contents/script2.sh\n      576  04-12-11 10:58   example-1.0-plugin/plugin.yaml\n --------                   -------\n     4309                   5 files\n")])]),e._v(" "),o("p",[e._v('The filename of the plugin zip must end with "-plugin.zip" to be recognized as a\nplugin archive. The zip must contain a top-level directory with the same base name\nas the zip file (sans ".zip").')]),e._v(" "),o("p",[e._v("The file "),o("code",[e._v("plugin.yaml")]),e._v(" must have this structure:")]),e._v(" "),o("div",{staticClass:"language-{.yaml} extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("# yaml plugin metadata\n\nname: plugin name\nversion: plugin version\nrundeckPluginVersion: 1.2\nauthor: author name\ndate: release date (ISO8601)\nurl: website URL\nproviders:\n    - name: provider\n      service: service name\n      plugin-type: script\n      script-interpreter: [interpreter]\n      script-file: [script file name]\n      script-args: [script file args]\n")])])]),o("p",[e._v("The main metadata that is required:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("name")]),e._v(" - name for the plugin")]),e._v(" "),o("li",[o("code",[e._v("version")]),e._v(" - version number of the plugin")]),e._v(" "),o("li",[o("code",[e._v("rundeckPluginVersion")]),e._v(' - Rundeck Plugin type version, currently "1.2"')]),e._v(" "),o("li",[o("code",[e._v("providers")]),e._v(" - list of provider metadata maps")])]),e._v(" "),o("p",[e._v("These are optional:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("author")]),e._v(" - optional author info")]),e._v(" "),o("li",[o("code",[e._v("date")]),e._v(" - optional release date info in ISO8601 format")]),e._v(" "),o("li",[o("code",[e._v("url")]),e._v(" - optional website URL")])]),e._v(" "),o("p",[e._v("This provides the necessary metadata about the plugin, including one or more\nentries in the "),o("code",[e._v("providers")]),e._v(" list to declare those providers defined in the plugin.")]),e._v(" "),o("h3",{attrs:{id:"plugin-version-changes"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#plugin-version-changes","aria-hidden":"true"}},[e._v("#")]),e._v(" Plugin version changes")]),e._v(" "),o("p",[e._v("The value of "),o("code",[e._v("rundeckPluginVersion")]),e._v(" defines some features of the loaded plugin.")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("1.2")]),e._v(" "),o("ul",[o("li",[e._v("allows use of "),o("a",{attrs:{href:"#plugin-localization"}},[e._v("Plugin Localization")]),e._v(" with message resources and "),o("a",{attrs:{href:"#plugin-icons"}},[e._v("Plugin Icons")]),e._v(".")])])]),e._v(" "),o("li",[o("code",[e._v("1.1")]),e._v(" "),o("ul",[o("li",[e._v("uses a default of "),o("code",[e._v("true")]),e._v(" for "),o("code",[e._v("mergeEnvironment")]),e._v(" (see below)")])])]),e._v(" "),o("li",[o("code",[e._v("1.0")]),e._v(" first release\n"),o("ul",[o("li",[e._v("uses a default of "),o("code",[e._v("false")]),e._v(" for "),o("code",[e._v("mergeEnvironment")]),e._v(" (see below)")])])])]),e._v(" "),o("h3",{attrs:{id:"provider-metadata"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#provider-metadata","aria-hidden":"true"}},[e._v("#")]),e._v(" Provider metadata")]),e._v(" "),o("p",[e._v("Required provider entries:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("name")]),e._v(" - provider name")]),e._v(" "),o("li",[o("code",[e._v("service")]),e._v(" - service name, one of these valid services:\n"),o("ul",[o("li",[o("code",[e._v("NodeExecutor")])]),e._v(" "),o("li",[o("code",[e._v("FileCopier")])]),e._v(" "),o("li",[o("code",[e._v("ResourceModelSource")])]),e._v(" "),o("li",[o("code",[e._v("WorkflowNodeStep")])]),e._v(" "),o("li",[o("code",[e._v("RemoteScriptNodeStep")])])])]),e._v(" "),o("li",[o("code",[e._v("plugin-type")]),e._v(" - must be "),o("code",[e._v("script")]),e._v(" for these types (or "),o("code",[e._v("ui")]),e._v(" for "),o("router-link",{attrs:{to:"/developer/11-ui-plugins.html"}},[e._v("UI Plugins")]),e._v(")")],1),e._v(" "),o("li",[o("code",[e._v("plugin-meta")]),e._v(" - an optional Map defining additional [Provider Metadata] entries. (Since rundeck 3.0.14)")]),e._v(" "),o("li",[o("code",[e._v("script-file")]),e._v(" - must be the name of a file relative to the "),o("code",[e._v("contents")]),e._v(" directory")])]),e._v(" "),o("p",[e._v("For "),o("code",[e._v("ResourceModelSource")]),e._v(" service, this additional entry is required:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("resource-format")]),e._v(" - Must be the name of one of the supported\n[Resource Model Document Formats](/administration/projects/resource-model-sources/builtin.md#resource-model-document-formats].")])]),e._v(" "),o("p",[e._v("Optional entries:")]),e._v(" "),o("ul",[o("li",[o("p",[o("code",[e._v("script-interpreter")]),e._v(" - A system command that should be used to execute the\nscript. This can be a single binary path, e.g. "),o("code",[e._v("/bin/bash")]),e._v(", or include\nany args to the command, such as "),o("code",[e._v("/bin/bash -c")]),e._v(".")])]),e._v(" "),o("li",[o("p",[o("code",[e._v("script-args")]),e._v(" - the arguments to use when executing the script file.")])]),e._v(" "),o("li",[o("p",[o("code",[e._v("interpreter-args-quoted")]),e._v(" - true/false - (default false). If true, the execution will\nbe done by passing the file and args as a single argument to the interpreter:\n"),o("code",[e._v('${interpreter} "${file} ${arg1} ${arg2}..."')]),e._v(". If false,\nthe execution will be done by passing the file and args as separate arguments:\n"),o("code",[e._v("${interpreter} ${file} ${arg1} ${arg2}...")])])]),e._v(" "),o("li",[o("p",[o("code",[e._v("use-original-extension")]),e._v(": ("),o("code",[e._v("true/false")]),e._v(", default "),o("code",[e._v("true")]),e._v("), whether to force the\nremotely copied script to have the same file extension as the original specified by "),o("code",[e._v("script-file")]),e._v(".\n(Available for "),o("code",[e._v("RemoteScriptNodeStep")]),e._v(" only.)")])]),e._v(" "),o("li",[o("p",[o("code",[e._v("script-file-extension")]),e._v(": A file extension to use for the remotely copied script.\n(Available for "),o("code",[e._v("RemoteScriptNodeStep")]),e._v(" only.)")])]),e._v(" "),o("li",[o("p",[o("code",[e._v("mergeEnvironment")]),e._v(" - boolean, if true (default for "),o("code",[e._v("rundeckPluginVersion: 1.1+")]),e._v("), when the script\nis executed the Environment variables from the Rundeck server\nwill be merged with the context environment variables provided to the script.\nIf false (default for "),o("code",[e._v("rundeckPluginVersion: 1.0")]),e._v("), then\nonly the context environment variables will be provided.")])]),e._v(" "),o("li",[o("p",[o("code",[e._v("config")]),e._v(" - a Map defining custom [Plugin properties] (see below.)")])])]),e._v(" "),o("h3",{attrs:{id:"plugin-properties"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#plugin-properties","aria-hidden":"true"}},[e._v("#")]),e._v(" Plugin properties")]),e._v(" "),o("p",[e._v("Custom plugin properties are supported in script-based plugins for these plugin types:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("ResourceModelSource")])]),e._v(" "),o("li",[o("code",[e._v("NodeExecutor")])]),e._v(" "),o("li",[o("code",[e._v("FileCopier")])]),e._v(" "),o("li",[o("code",[e._v("WorkflowNodeStep")])]),e._v(" "),o("li",[o("code",[e._v("RemoteScriptNodeStep")])])]),e._v(" "),o("p",[e._v("You can use the metadata entries to declare properties about your plugin.")]),e._v(" "),o("p",[e._v("Create a "),o("code",[e._v("config")]),e._v(" entry in each provider definition, containing a sequence of\nmap entries for each configuration property you want to define. In the map entry include:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("type")]),e._v(" - The type of property. Must be one of:\n"),o("ul",[o("li",[o("code",[e._v("String")])]),e._v(" "),o("li",[o("code",[e._v("Boolean")]),e._v(' value must be "true" or "false"')]),e._v(" "),o("li",[o("code",[e._v("Integer")])]),e._v(" "),o("li",[o("code",[e._v("Long")])]),e._v(" "),o("li",[o("code",[e._v("Select")]),e._v(" must be on of a set of values")]),e._v(" "),o("li",[o("code",[e._v("FreeSelect")]),e._v(" may be one of a set of values")]),e._v(" "),o("li",[o("code",[e._v("Options")]),e._v(" may be more than one of a set of values, the result will be the values joined with a "),o("code",[e._v(",")]),e._v(" (comma)")])])]),e._v(" "),o("li",[o("code",[e._v("name")]),e._v(" - Name to identify the property")]),e._v(" "),o("li",[o("code",[e._v("title")]),e._v(" - Title to display in the GUI (optional)")]),e._v(" "),o("li",[o("code",[e._v("description")]),e._v(" - Description to display in the GUI (optional)")]),e._v(" "),o("li",[o("code",[e._v("required")]),e._v(" - (true/false) if true, require a non-empty value (optional)")]),e._v(" "),o("li",[o("code",[e._v("default")]),e._v(" - A default value to use (optional)")]),e._v(" "),o("li",[o("code",[e._v("values")]),e._v(" - A comma-separated list of values to use for Select or FreeSelect. Required for Select/FreeSelect.")]),e._v(" "),o("li",[o("code",[e._v("scope")]),e._v(' - Resolution scope for the property. Default: "Instance".')]),e._v(" "),o("li",[o("code",[e._v("renderingOptions")]),e._v(" - A Map containing a definition of rendering option keys/values. (See "),o("a",{attrs:{href:"#property-rendering-options"}},[e._v("Property Rendering Options")]),e._v(" below.)")])]),e._v(" "),o("p",[e._v("When your script is invoked, each configuration property defined for the plugin will be set as "),o("code",[e._v("RD_CONFIG_[PROPERTY]")]),e._v(' variables passed to your script (see below). "'),o("em",[e._v("PROPERTY")]),e._v('" refers to your plugin property name in uppercase. A plugin property named "foo" will translate to the shell variable '),o("code",[e._v("RD_CONFIG_FOO")]),e._v(".")]),e._v(" "),o("p",[e._v("See "),o("a",{attrs:{href:"#property-scopes"}},[e._v("Property Scopes")]),e._v(" below.")]),e._v(" "),o("h4",{attrs:{id:"example-script-plugin-property"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#example-script-plugin-property","aria-hidden":"true"}},[e._v("#")]),e._v(" Example script plugin property")]),e._v(" "),o("p",[e._v("Here is an example:")]),e._v(" "),o("div",{staticClass:"language-{.yaml} extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v('# yaml plugin metadata\n\nname: plugin name\nversion: plugin version\nrundeckPluginVersion: 1.0\nauthor: author name\ndate: release date\nproviders:\n    - name: provider\n      service: service name\n      plugin-type: script\n      script-interpreter: [interpreter]\n      script-file: [script file name]\n      script-args: [script file args]\n      config:\n        - name: myprop\n          title: My Property\n          type: String\n          required: false\n          description: "A custom property"\n          scope: Instance\n          renderingOptions:\n            instance-scope-node-attribute: "my-prop"\n        - name: myprop2\n          title: Another Property\n          type: Integer\n          required: true\n          description: "Must be present"\n          default: \'123\'\n          scope: Framework\n')])])]),o("h3",{attrs:{id:"how-script-plugin-providers-are-invoked"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#how-script-plugin-providers-are-invoked","aria-hidden":"true"}},[e._v("#")]),e._v(" How script plugin providers are invoked")]),e._v(" "),o("p",[e._v("When the provider is used for node execution or file copying, the script file,\ninterpreter, and args are combined into a commandline executed by the system in\nthis pattern:")]),e._v(" "),o("pre",[o("code",[e._v("[interpreter] [filename] [args...]\n")])]),e._v(" "),o("p",[e._v("If the interpreter is not specified, then the script file is executed directly,\nand that means it must be acceptable by the system to be executed directly (include\nany necessary "),o("code",[e._v("#!")]),e._v(" line, etc).")]),e._v(" "),o("p",[o("code",[e._v("script-args")]),e._v(" can\ncontain data-context properties such as "),o("code",[e._v("${node.name}")]),e._v(". Additionally, the\nspecific Service will provide some additional context properties that can be used:")]),e._v(" "),o("ul",[o("li",[e._v("NodeExecutor will define "),o("code",[e._v("${exec.command}")]),e._v(" containing the command to be executed")]),e._v(" "),o("li",[e._v("FileCopier will define "),o("code",[e._v("${file-copy.file}")]),e._v(" containing the local path to the file\nthat needs to be copied, and "),o("code",[e._v("${file-copy.destination}")]),e._v(" containing the remote destination path that is requested, if available.")]),e._v(" "),o("li",[e._v("ResourceModelSource will define "),o("code",[e._v("${config.KEY}")]),e._v(" for each configuration property KEY that is defined.")])]),e._v(" "),o("p",[e._v("All script-plugins will also be provided with these context entries:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("rundeck.base")]),e._v(" - base directory of the Rundeck installation")]),e._v(" "),o("li",[o("code",[e._v("rundeck.project")]),e._v(" - project name")]),e._v(" "),o("li",[o("code",[e._v("plugin.base")]),e._v(" - base directory of the expanded 'contents' dir of the plugin")]),e._v(" "),o("li",[o("code",[e._v("plugin.file")]),e._v(" - the plugin file itself")]),e._v(" "),o("li",[o("code",[e._v("plugin.scriptfile")]),e._v(" - the path to the script file being executed for the plugin")]),e._v(" "),o("li",[o("code",[e._v("plugin.vardir")]),e._v(" - var dir the plugin can use for caching data, local to the project")]),e._v(" "),o("li",[o("code",[e._v("plugin.tmpdir")]),e._v(" - temp dir the plugin can use")])]),e._v(" "),o("p",[e._v("In addition, all of the data-context properties that are available in the\n"),o("code",[e._v("script-args")]),e._v(" are provided as environment variables to the\nscript or interpreter when it is executed.")]),e._v(" "),o("p",[e._v("Environment variables are generated in all-caps with this format:")]),e._v(" "),o("pre",[o("code",[e._v("RD_[KEY]_[NAME]\n")])]),e._v(" "),o("p",[e._v("The "),o("code",[e._v("KEY")]),e._v(" and "),o("code",[e._v("NAME")]),e._v(" are the same as "),o("code",[e._v("${key.name}")]),e._v(". Any characters in the key or name\nthat are not valid Bash shell variable characters are replaced with underscore '_'.")]),e._v(" "),o("p",[e._v("Examples:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("${node.name}")]),e._v(" becomes "),o("code",[e._v("$RD_NODE_NAME")])]),e._v(" "),o("li",[o("code",[e._v("${node.some-attribute}")]),e._v(" becomes "),o("code",[e._v("$RD_NODE_SOME_ATTRIBUTE")])]),e._v(" "),o("li",[o("code",[e._v("${exec.command}")]),e._v(" becomes "),o("code",[e._v("$RD_EXEC_COMMAND")])]),e._v(" "),o("li",[o("code",[e._v("${file-copy.file}")]),e._v(" becomes "),o("code",[e._v("$RD_FILE_COPY_FILE")])])]),e._v(" "),o("h3",{attrs:{id:"script-provider-requirements"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#script-provider-requirements","aria-hidden":"true"}},[e._v("#")]),e._v(" Script provider requirements")]),e._v(" "),o("p",[e._v("The specific service has expectations about\nthe way your provider script behaves.")]),e._v(" "),o("h4",{attrs:{id:"exit-code"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#exit-code","aria-hidden":"true"}},[e._v("#")]),e._v(" Exit code")]),e._v(" "),o("ul",[o("li",[e._v("Exit code of 0 indicates success")]),e._v(" "),o("li",[e._v("Any other exit code indicates failure")])]),e._v(" "),o("h4",{attrs:{id:"output"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#output","aria-hidden":"true"}},[e._v("#")]),e._v(" Output")]),e._v(" "),o("p",[e._v("For "),o("code",[e._v("NodeExecutor")])]),e._v(" "),o("p",[e._v(": All output to "),o("code",[e._v("STDOUT")]),e._v("/"),o("code",[e._v("STDERR")]),e._v(" will be captured for the job's output.")]),e._v(" "),o("p",[e._v("For "),o("code",[e._v("FileCopier")])]),e._v(" "),o("p",[e._v(": The first line of output of "),o("code",[e._v("STDOUT")]),e._v(" MUST be the filepath of the file copied\nto the target node. Other output is ignored. All output to "),o("code",[e._v("STDERR")]),e._v(" will be\ncaptured for the job's output.")]),e._v(" "),o("p",[e._v("For "),o("code",[e._v("ResourceModelSource")])]),e._v(" "),o("p",[e._v(": All output on "),o("code",[e._v("STDOUT")]),e._v(" will be captured and passed to a "),o("code",[e._v("ResourceFormatParser")]),e._v(" for the specified "),o("code",[e._v("resource-format")]),e._v(" to create the Node definitions.")]),e._v(" "),o("h3",{attrs:{id:"internationalization-localization-for-zip-files"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#internationalization-localization-for-zip-files","aria-hidden":"true"}},[e._v("#")]),e._v(" Internationalization/Localization for Zip files")]),e._v(" "),o("p",[e._v('Since Rundeck 2.6.10, Plugins support Internationalization ("i18n") using Java properties files.')]),e._v(" "),o("p",[e._v("Include a "),o("code",[e._v("resources/i18n")]),e._v(" directory in your zip file, with localized versions of your Plugin messages.")]),e._v(" "),o("p",[e._v("See "),o("a",{attrs:{href:"#plugin-localization"}},[e._v("Plugin Localization")]),e._v(".")]),e._v(" "),o("h2",{attrs:{id:"property-scopes"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#property-scopes","aria-hidden":"true"}},[e._v("#")]),e._v(" Property scopes")]),e._v(" "),o("p",[e._v("The "),o("code",[e._v("scope")]),e._v(" determines how the value of the property is resolved.")]),e._v(" "),o("p",[e._v("These are the available scopes and how the property values can be resolved:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("Framework")]),e._v(" - Only framework properties")]),e._v(" "),o("li",[o("code",[e._v("ProjectOnly")]),e._v(" - Only Project properties")]),e._v(" "),o("li",[o("code",[e._v("Project")]),e._v(" - Project and Framework properties")]),e._v(" "),o("li",[o("code",[e._v("InstanceOnly")]),e._v(" - Only instance properties")]),e._v(" "),o("li",[o("code",[e._v("Instance")]),e._v(" - Instance and all earlier levels")])]),e._v(" "),o("p",[e._v("When resolving a property in a Project or Framework scope, the following properties will be searched:")]),e._v(" "),o("ul",[o("li",[o("p",[e._v("Framework scope")]),e._v(" "),o("ul",[o("li",[e._v("file: "),o("code",[e._v("$RDECK_BASE/etc/framework.properties")])]),e._v(" "),o("li",[e._v("property: "),o("code",[e._v("framework.plugin.[ServiceName].[providerName].[propertyname]")])])])]),e._v(" "),o("li",[o("p",[e._v("Project scope")]),e._v(" "),o("ul",[o("li",[e._v("file: "),o("code",[e._v("$RDECK_BASE/projects/[ProjectName]/etc/project.properties")])]),e._v(" "),o("li",[e._v("property: "),o("code",[e._v("project.plugin.[ServiceName].[providerName].[propertyname]")])])])])]),e._v(" "),o("p",[e._v('Instance scope refers to the configuration for a plugin "instance". For different plugin types, due to the differences between how they are configured, this scope is resolved in different ways.')]),e._v(" "),o("p",[e._v("For "),o("code",[e._v("ResourceModelSource")]),e._v(":")]),e._v(" "),o("p",[e._v(": Resolved for each indexed source via the configuration in the "),o("code",[e._v("project.properties")]),e._v(" file.")]),e._v(" "),o("p",[e._v("For "),o("code",[e._v("NodeExecutor")]),e._v(", and "),o("code",[e._v("FileCopier")]),e._v(":")]),e._v(" "),o("p",[e._v(": Custom properties are "),o("em",[e._v("only")]),e._v(" supported in Script-based plugins. The instance scoped-property values are only loaded via Node attributes at execution time, based on the mapping provided in the "),o("code",[e._v("renderingOptions")]),e._v(". See "),o("a",{attrs:{href:"#node-services-instance-scope"}},[e._v("Node services instance scope")]),e._v(".")]),e._v(" "),o("p",[e._v("For Workflow Step services:")]),e._v(" "),o("p",[e._v(": Resolved from the step configuration defined in the workflow.")]),e._v(" "),o("p",[e._v("For "),o("code",[e._v("Notification")]),e._v(":")]),e._v(" "),o("p",[e._v(": Resolved from the notification trigger configuration defined in the workflow.")]),e._v(" "),o("h3",{attrs:{id:"node-services-instance-scope"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#node-services-instance-scope","aria-hidden":"true"}},[e._v("#")]),e._v(" Node services instance scope")]),e._v(" "),o("p",[e._v("For script-based "),o("code",[e._v("NodeExecutor")]),e._v(" and "),o("code",[e._v("FileCopier")]),e._v(" plugins, Instance-scope properties can be defined to retrieve values from the Node's attributes at execution time.")]),e._v(" "),o("p",[e._v("Define the "),o("code",[e._v("renderingOptions")]),e._v(" property entry, and add a "),o("code",[e._v("instance-scope-node-attribute")]),e._v(" key:")]),e._v(" "),o("div",{staticClass:"language-{.yaml} extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v('      config:\n        - name: myprop\n          title: My Property\n          type: String\n          required: false\n          description: "A custom property"\n          scope: Instance\n          renderingOptions:\n            instance-scope-node-attribute: "my-prop"\n')])])]),o("p",[e._v('When resolving the property value at execution time\nthe node attribute "my-prop" will be used for the value (if present),\nbefore resolving other allowed scopes.')]),e._v(" "),o("h2",{attrs:{id:"property-rendering-options"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#property-rendering-options","aria-hidden":"true"}},[e._v("#")]),e._v(" Property Rendering Options")]),e._v(" "),o("p",[e._v("Rendering options define special attributes of a property, which can be used to declare how it is shown in the GUI, or how the value is loaded at resolution time.")]),e._v(" "),o("p",[e._v("Available rendering option keys:")]),e._v(" "),o("ul",[o("li",[o("p",[o("code",[e._v("displayType")]),e._v(", values:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("SINGLE_LINE")]),e._v(" - display input as a single text field.")]),e._v(" "),o("li",[o("code",[e._v("MULTI_LINE")]),e._v(" - display input as a multi-line text area.")]),e._v(" "),o("li",[o("code",[e._v("CODE")]),e._v(" - display input as a multi-line text area with syntax highlighting")]),e._v(" "),o("li",[o("code",[e._v("PASSWORD")]),e._v(" - display input as a password field")]),e._v(" "),o("li",[o("code",[e._v("STATIC_TEXT")]),e._v(" - display static text without an input field, using the default value as the text")])])]),e._v(" "),o("li",[o("p",[o("code",[e._v("instance-scope-node-attribute")])]),e._v(" "),o("ul",[o("li",[e._v("Value is the name of a Node attribute to use for instance-scoped properties for "),o("em",[e._v("Node Services")]),e._v(" plugins "),o("code",[e._v("NodeExecutor")]),e._v(" and "),o("code",[e._v("FileCopier")]),e._v(" only.")])])]),e._v(" "),o("li",[o("p",[o("code",[e._v("selectionAccessor")]),e._v(", values:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("STORAGE_PATH")]),e._v(" - display an additional input to select a Storage Path string from Rundeck's "),o("router-link",{attrs:{to:"/administration/security/key-storage.html"}},[e._v("Key Storage Facility")]),e._v(".")],1)])]),e._v(" "),o("li",[o("p",[o("code",[e._v("storage-path-root")])]),e._v(" "),o("ul",[o("li",[e._v("Value is a Storage Path indicating the root to use if the selectionAccessor is "),o("code",[e._v("STORAGE_PATH")]),e._v(".")])])]),e._v(" "),o("li",[o("p",[o("code",[e._v("storage-file-meta-filter")])]),e._v(" "),o("ul",[o("li",[e._v("Value is a Storage metadata filter string, indicating the types of Storage Files to select from if selectionAccessor is "),o("code",[e._v("STORAGE_PATH")]),e._v(". Filt string format: "),o("code",[e._v("metadatakey=value")]),e._v(", e.g. "),o("code",[e._v("Rundeck-key-type=private")]),e._v(".")])])]),e._v(" "),o("li",[o("p",[o("code",[e._v("valueConversion")]),e._v(" defines a way to convert a the value of the resolved property. Allowed values:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("STORAGE_PATH_AUTOMATIC_READ")]),e._v(" - automatically loads the storage contents from the given Storage Path, replacing the path with the loaded file contents as a String. E.g. can be used to load a Password file contents.")]),e._v(" "),o("li",[o("code",[e._v("PRIVATE_DATA_CONTEXT")]),e._v(' - automatically read a value from the Private data context, which contains Secure Authentication Job Option values. E.g. With this conversion enabled, a config value of "option.mypassword" would be replaced with the value of a secure authentication job option named "mypassword".')])]),e._v(" "),o("ul",[o("li",[o("code",[e._v("valueConversionFailure")]),e._v(" can be used to indicate that if the Private data context, or Storage path data is not present,\nthen the config data key should be removed. Allowed values:\n"),o("ul",[o("li",[o("code",[e._v("remove")]),e._v(" - remove the original config property value if the conversion is not successful")])])]),e._v(" "),o("li",[o("code",[e._v("staticTextContentType")]),e._v(" if displayType is "),o("code",[e._v("STATIC_TEXT")]),e._v(", the content type for the defaultValue text. values:\n"),o("ul",[o("li",[o("code",[e._v("text/html")]),e._v(" render as sanitized HTML")]),e._v(" "),o("li",[o("code",[e._v("text/x-markdown")]),e._v(" convert markdown text to sanitized HTML")]),e._v(" "),o("li",[e._v("any other value or if not specified: render text directly")])])]),e._v(" "),o("li",[o("code",[e._v("groupName")]),e._v(" specifies a group that the input field belongs to. If not specified the field will be in the\nprimary, unnamed group. If specified, all fields with the same "),o("code",[e._v("groupName")]),e._v(" value will be\ndisplayed in a common area under the group name.")]),e._v(" "),o("li",[o("code",[e._v("grouping")]),e._v(" allowed value: "),o("code",[e._v("secondary")]),e._v(", indicates that the specified "),o("code",[e._v("groupName")]),e._v(" should be shown in a\ncollapsed state if no input values in that group have been set. If no "),o("code",[e._v("groupName")]),e._v(' is set, then the field\nwill be displayed under a group with a heading of "More".')]),e._v(" "),o("li",[o("code",[e._v("codeSyntaxMode")]),e._v(" - if displayType is "),o("code",[e._v("CODE")]),e._v(", name of a "),o("a",{attrs:{href:"https://ace.c9.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("ACE editor mode"),o("OutboundLink")],1),e._v(" supported by Rundeck. One of: "),o("code",[e._v("batchfile")]),e._v(", "),o("code",[e._v("diff")]),e._v(", "),o("code",[e._v("dockerfile")]),e._v(", "),o("code",[e._v("golang")]),e._v(", "),o("code",[e._v("groovy")]),e._v(", "),o("code",[e._v("html")]),e._v(", "),o("code",[e._v("java")]),e._v(", "),o("code",[e._v("javscript")]),e._v(", "),o("code",[e._v("json")]),e._v(", "),o("code",[e._v("markdown")]),e._v(", "),o("code",[e._v("perl")]),e._v(", "),o("code",[e._v("php")]),e._v(", "),o("code",[e._v("powershell")]),e._v(", "),o("code",[e._v("properties")]),e._v(", "),o("code",[e._v("python")]),e._v(", "),o("code",[e._v("ruby")]),e._v(", "),o("code",[e._v("sh")]),e._v(", "),o("code",[e._v("sql")]),e._v(", "),o("code",[e._v("xml")]),e._v(", "),o("code",[e._v("yaml")]),e._v(".")]),e._v(" "),o("li",[o("code",[e._v("codeSyntaxSelectable")]),e._v(" - if displayType is "),o("code",[e._v("CODE")]),e._v(", "),o("code",[e._v("true/false")]),e._v(": if true, show a select box for choosing from the available syntax highlighting modes.")])])])]),e._v(" "),o("h2",{attrs:{id:"plugin-localization"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#plugin-localization","aria-hidden":"true"}},[e._v("#")]),e._v(" Plugin Localization")]),e._v(" "),o("p",[e._v('Since Rundeck Plugin Version 1.2 (Rundeck 2.6.10), Plugins support Internationalization ("i18n") using Java properties files.')]),e._v(" "),o("p",[e._v("Specify "),o("code",[e._v("rundeckPluginVersion: 1.2")]),e._v(" in your plugin.yaml (script plugins) or "),o("code",[e._v("Rundeck-Plugin-Version: 1.2")]),e._v(" in your\njar Manifest (jar plugins) to enable Localization support.")]),e._v(" "),o("p",[e._v("Include a "),o("code",[e._v("resources/i18n")]),e._v(" directory in your jar/zip file, with localized versions of your Plugin messages.")]),e._v(" "),o("h3",{attrs:{id:"resolving-localization-message-files"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#resolving-localization-message-files","aria-hidden":"true"}},[e._v("#")]),e._v(" Resolving Localization Message Files")]),e._v(" "),o("p",[e._v("The mechanism for looking up the appropriate localization messages file is similar to the Spring Java library mechanism.")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("resources/i18n/messages.properties")]),e._v(" The default messages for the plugin provider(s). This file will be loaded if\nno other more specific messages file is found.")])]),e._v(" "),o("p",[e._v("When loading messages for a locale/language, this search order will be used,:")]),e._v(" "),o("ol",[o("li",[o("code",[e._v("resources/i18n/messages_LANG_COUNTRY.properties")]),e._v(" for requested Locale")]),e._v(" "),o("li",[o("code",[e._v("resources/i18n/messages_LANG.properties")]),e._v(" for requested Locale")]),e._v(" "),o("li",[o("code",[e._v("resources/i18n/messages_LANG_COUNTRY.properties")]),e._v(" for Default Locale for the JVM")]),e._v(" "),o("li",[o("code",[e._v("resources/i18n/messages_LANG.properties")]),e._v(" for Default Locale for the JVM")]),e._v(" "),o("li",[o("code",[e._v("resources/i18n/messages.properties")]),e._v(" as fallback")])]),e._v(" "),o("p",[e._v("In addition, specific messages files can be created for each Provider defined in your plugin file.")]),e._v(" "),o("ol",[o("li",[o("code",[e._v("resources/i18n/SERVICE.PROVIDER.messages.properties")]),e._v(" for requested Plugin Service and Provider names.")]),e._v(" "),o("li",[o("code",[e._v("resources/i18n/PROVIDER.messages.properties")]),e._v(" for requested Provider name.")]),e._v(" "),o("li",[o("code",[e._v("resources/i18n/SERVICE.messages.properties")]),e._v(" for requested Service name.")]),e._v(" "),o("li",[o("code",[e._v("resources/i18n/messages.properties")]),e._v(" as fallback")])]),e._v(" "),o("p",[e._v("If you have multiple Providers in your plugin file, can use separate messages files for each provider.")]),e._v(" "),o("p",[e._v("You can combine the Locale and Service/Provider:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("resources/i18n/SERVICE.PROVIDER.messages_LANG_COUNTRY.properties")])])]),e._v(" "),o("p",[e._v("Here is an example:")]),e._v(" "),o("p",[o("code",[e._v("resources/i18n/WorkflowNodeStep.flow-control.messages_es_419.properties")])]),e._v(" "),o("h3",{attrs:{id:"defining-plugin-localization-messages"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#defining-plugin-localization-messages","aria-hidden":"true"}},[e._v("#")]),e._v(" Defining Plugin Localization Messages")]),e._v(" "),o("p",[e._v("When displaying a plugin in the GUI, Rundeck will look for localized versions of text for the plugin, using the\nlocalization messages if they are found. If they are not found, it will use the text\nversions defined in the Plugin Description (Java annotations or plugin.yaml file).")]),e._v(" "),o("p",[e._v("The "),o("code",[e._v("messages.properties")]),e._v(" file is a "),o("a",{attrs:{href:"https://docs.oracle.com/javase/7/docs/api/java/util/Properties.html#load(java.io.Reader)",target:"_blank",rel:"noopener noreferrer"}},[e._v("Java Properties Format"),o("OutboundLink")],1),e._v(" in "),o("code",[e._v("UTF-8")]),e._v(" encoding.")]),e._v(" "),o("p",[e._v("The following message Codes will be used:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("plugin.title")]),e._v(" Plugin Title")]),e._v(" "),o("li",[o("code",[e._v("plugin.description")]),e._v(" Plugin Description")]),e._v(" "),o("li",[o("code",[e._v("property.NAME.title")]),e._v(' Title for configuration property named "NAME"')]),e._v(" "),o("li",[o("code",[e._v("property.NAME.description")]),e._v(' Description for configuration property named "NAME"')])]),e._v(" "),o("p",[e._v("("),o("em",[e._v("Note")]),e._v(": SCM Plugins have additional message codes. See: "),o("router-link",{attrs:{to:"/developer/10-scm-plugins.html#localization]"}},[e._v("SCM Plugins - Localization")]),e._v(".")],1),e._v(" "),o("p",[e._v("Additionally, if a property has a "),o("a",{attrs:{href:"#property-rendering-options"}},[e._v("Property Rendering Option")]),e._v(" marking it as "),o("code",[e._v("STATIC_TEXT")]),e._v("\nnormally the "),o("code",[e._v("defaultValue")]),e._v(" of the property is used to render it as text or HTML. This value can be localized as well:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("plugin.NAME.defaultValue")]),e._v(' Static text/html for a STATIC_TEXT property named "NAME"')])]),e._v(" "),o("p",[e._v("The message code will be resolved using the following search pattern using the Service and Provider names:")]),e._v(" "),o("ol",[o("li",[o("code",[e._v("SERVICE.PROVIDER.CODE")])]),e._v(" "),o("li",[o("code",[e._v("PROVIDER.CODE")])]),e._v(" "),o("li",[o("code",[e._v("SERVICE.CODE")])]),e._v(" "),o("li",[o("code",[e._v("CODE")])])]),e._v(" "),o("p",[e._v("Where "),o("code",[e._v("CODE")]),e._v(" is one of the messages codes mentioned above.")]),e._v(" "),o("p",[e._v("So for example you could define the titles of two different providers using this file:")]),e._v(" "),o("p",[o("code",[e._v("messages.properties")])]),e._v(" "),o("div",{staticClass:"language-{.properties} extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("provider1.plugin.title=My Provider 1\nprovider2.plugin.title=My Provider 2\n")])])]),o("h2",{attrs:{id:"plugin-icons"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#plugin-icons","aria-hidden":"true"}},[e._v("#")]),e._v(" Plugin Icons")]),e._v(" "),o("p",[e._v("Since Rundeck Plugin Version 1.2 (Rundeck 2.6.10), Custom Icons can now be defined for your plugin.")]),e._v(" "),o("p",[e._v("You can use an [Icon Image Files], or specify [Provider Metadata] to use a CSS icon, such as Glyphicon or Font Awesome icon.")]),e._v(" "),o("h3",{attrs:{id:"icon-image-files"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#icon-image-files","aria-hidden":"true"}},[e._v("#")]),e._v(" Icon Image Files")]),e._v(" "),o("p",[e._v("Specify "),o("code",[e._v("rundeckPluginVersion: 1.2")]),e._v(" in your plugin.yaml (script plugins) or "),o("code",[e._v("Rundeck-Plugin-Version: 1.2")]),e._v(" in your\njar Manifest (jar plugins) to enable custom icon support.")]),e._v(" "),o("p",[e._v("Include a "),o("code",[e._v("resources/")]),e._v(" directory in your jar/zip file with your icon file. The icon is resolved by looking for\na file in the resources directory using the following search pattern:")]),e._v(" "),o("ol",[o("li",[o("code",[e._v("resources/SERVICE.PROVIDER.icon.png")])]),e._v(" "),o("li",[o("code",[e._v("resources/PROVIDER.icon.png")])]),e._v(" "),o("li",[o("code",[e._v("resources/SERVICE.icon.png")])]),e._v(" "),o("li",[o("code",[e._v("resources/icon.png")])])]),e._v(" "),o("p",[e._v("You can define a custom icon for each Provider in your plugin file, or a single icon for all providers.")]),e._v(" "),o("h2",{attrs:{id:"provider-metadata-2"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#provider-metadata-2","aria-hidden":"true"}},[e._v("#")]),e._v(" Provider Metadata")]),e._v(" "),o("p",[e._v("(Since Rundeck 3.0.14)")]),e._v(" "),o("p",[e._v("These metadata keys may be available:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("glyphicon")]),e._v(" - name of a Glyphicon icon to use for the plugin, as alternative to providing an icon image resource.")]),e._v(" "),o("li",[o("code",[e._v("faicon")]),e._v(" - name of a Font Awesome icon to use for the plugin.")]),e._v(" "),o("li",[o("code",[e._v("fabicon")]),e._v(' - name of a Font Awesome "brand" icon to use')])])])},[],!1,null,null,null);t.default=r.exports}}]);