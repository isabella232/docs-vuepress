(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{673:function(e,t,a){"use strict";a.r(t);var s=a(0),r=Object(s.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"vmware-plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vmware-plugin","aria-hidden":"true"}},[e._v("#")]),e._v(" VMWare Plugin")]),e._v(" "),a("p",[e._v("The VMWare resource model plugin gets the VMs from a VSphere ESXi server or VCenter Server as Rundeck Nodes.")]),e._v(" "),a("h3",{attrs:{id:"configuration-options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#configuration-options","aria-hidden":"true"}},[e._v("#")]),e._v(" Configuration Options:")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Custom Mapping")]),e._v(":")])]),e._v(" "),a("p",[e._v("The custom mapping option allows you to get custom/default node attribute based on Vmware API values.\nAdd custom mappings in the form "),a("code",[e._v("attributeName.selector=vmAttribute")]),e._v(" or "),a("code",[e._v("attributeName.default=value")]),e._v(", separated by new line.")]),e._v(" "),a("p",[e._v("For example, to add a "),a("code",[e._v("status")]),e._v(" attribute based on a VM's attribute, you can use "),a("code",[e._v("status.selector=guest.guestState")])]),e._v(" "),a("p",[e._v("To create an attribute based on concatenated fields, used comma to concatenated them: "),a("code",[e._v("nodename.selector=vm.name,vm.dataCenter")])]),e._v(" "),a("p",[e._v("Custom tags can be added based on VM's attributes, for example "),a("code",[e._v("tags.selector=guest.guestState,guest.toolsStatus")])]),e._v(" "),a("p",[e._v("Default values can be added using "),a("code",[e._v("attributeName.default=format")]),e._v(".")]),e._v(" "),a("p",[e._v("Also, the default values can be used per "),a("code",[e._v("osFamily")]),e._v(" value, for example: "),a("code",[e._v("username.windows.default=Administrator")]),e._v(", "),a("code",[e._v("username.linux.default=root")])]),e._v(" "),a("p",[e._v("Example of a custom mapping:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("username.default=rundeck\nusername.windows.default=Administrator\nusername.linux.default=root\nnode-executor.windows.default=WinRMPython\nfile-copier.windows.default=WinRMcpPython\nwinrm-password-storage-path.windows.default=keys/vwmare/windows.password\nnodename.selector=vm.name,vm.dataCenter\n")])])]),a("p",[e._v("In case you work on multiples Data-Center environment, you can use the Data-Center name as part of the node name, to avoid duplicate nodes from VMs that has the same name.\nFor example, add this on the custom mapping: "),a("code",[e._v("nodename.selector=vm.name,vm.dataCenter")])]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("Just Running VMs.")]),e._v(": Filter by running vms")]),e._v(" "),a("li",[a("strong",[e._v("DataCenter")]),e._v(": (Optional) filter by DataCenter. Leave it blank for all DataCenters")]),e._v(" "),a("li",[a("strong",[e._v("Ip Address Selector")]),e._v(": Filter Multiples IP Address. In case the Vms has more that one IP address, you can select one of them using a IP pattern like "),a("code",[e._v("192.168.0.*")])]),e._v(" "),a("li",[a("strong",[e._v("Display attribute with subgroups")]),e._v(": Display node attribute with subgroups (format group.subgroup)")]),e._v(" "),a("li",[a("strong",[e._v("Attributes group")]),e._v(": List attributes group to display of the VMs. Options are: Guest,Config,Runtime,Summary")])]),e._v(" "),a("h3",{attrs:{id:"authentication-options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#authentication-options","aria-hidden":"true"}},[e._v("#")]),e._v(" Authentication Options:")]),e._v(" "),a("ul",[a("li",[a("strong",[e._v("URL Server")]),e._v(": URL of the Server, eg: https://vmware-server")]),e._v(" "),a("li",[a("strong",[e._v("Username")]),e._v(": Login Username")]),e._v(" "),a("li",[a("strong",[e._v("Password")]),e._v(": Username Password")]),e._v(" "),a("li",[a("strong",[e._v("Ignore SSL certificate")]),e._v(": Connecting with the server ignoring the SSL certificate. If this is false, you will need to add the certificate to the truststore.")])]),e._v(" "),a("h3",{attrs:{id:"connecting-using-certificate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#connecting-using-certificate","aria-hidden":"true"}},[e._v("#")]),e._v(" Connecting using Certificate")]),e._v(" "),a("p",[e._v("For now, to verify the certificate you need to add it to the truststore of Rundeck or Java:")]),e._v(" "),a("ul",[a("li",[e._v("get the certificate from VSphere/VCenter Server:")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("openssl s_client -showcerts -connect server:443\n")])])]),a("ul",[a("li",[e._v("put the certificate on a file, for example: "),a("code",[e._v("vmware-vm.cert")])])]),e._v(" "),a("p",[e._v("Certificates are PEM encoded and start with "),a("code",[e._v("-BEGIN CERTIFICATE--")]),e._v(" end with "),a("code",[e._v("--END CERTIFICATE--")]),e._v(" inclusive.")]),e._v(" "),a("ul",[a("li",[e._v("Add the certificate to the truststore")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("keytool -import -alias WmWare-cert -file vmware-vm.cert -keystore  $RDECK_BASE/etc/truststore -storepass adminadmin\n\n")])])]),a("p",[e._v("For Rundeck launcher, the truststore file will be located on "),a("code",[e._v("$RDECK_BASE/etc/")]),e._v(", for deb/rpm package will be located on "),a("code",[e._v("/etc/rundeck/ssl/")])]),e._v(" "),a("ul",[a("li",[e._v("(Optional) You can also add the certificate to the JVM")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("keytool -import -alias WmWare-cert -file vmware-vm.cert -keystore $JAVA_HOME/lib/security/cacerts -storepass changeit\n\n")])])])])},[],!1,null,null,null);t.default=r.exports}}]);